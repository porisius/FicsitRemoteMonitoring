(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[823],{6572:(e,r,t)=>{Promise.resolve().then(t.bind(t,94103))},15785:(e,r,t)=>{"use strict";t.d(r,{l:()=>n});var a=t(95155);t(12115);var o=t(73936),l=t(74466),i=t(59434);let s=(0,l.F)("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}});function n(e){let{className:r,variant:t,size:l,...n}=e;return(0,a.jsx)(o.b,{"data-slot":"toggle",className:(0,i.cn)(s({variant:t,size:l,className:r})),...n})}},22346:(e,r,t)=>{"use strict";t.d(r,{w:()=>i});var a=t(95155);t(12115);var o=t(87489),l=t(59434);function i(e){let{className:r,orientation:t="horizontal",decorative:i=!0,...s}=e;return(0,a.jsx)(o.b,{"data-slot":"separator-root",decorative:i,orientation:t,className:(0,l.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",r),...s})}},26126:(e,r,t)=>{"use strict";t.d(r,{E:()=>n});var a=t(95155);t(12115);var o=t(99708),l=t(74466),i=t(59434);let s=(0,l.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:r,variant:t,asChild:l=!1,...n}=e,c=l?o.DX:"span";return(0,a.jsx)(c,{"data-slot":"badge",className:(0,i.cn)(s({variant:t}),r),...n})}},30285:(e,r,t)=>{"use strict";t.d(r,{$:()=>n});var a=t(95155);t(12115);var o=t(99708),l=t(74466),i=t(59434);let s=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function n(e){let{className:r,variant:t,size:l,asChild:n=!1,...c}=e,d=n?o.DX:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,i.cn)(s({variant:t,size:l,className:r})),...c})}},33856:(e,r,t)=>{"use strict";t.d(r,{CU:()=>l,cy:()=>i,WO:()=>n,Tj:()=>s,kx:()=>o,ct:()=>c});let a=JSON.parse('{"rE":"1.2.0","cy":{"name":"Bread-Chan","url":"https://github.com/Bread-Ch4n"},"Jk":{"type":"git","url":"https://github.com/Bread-Ch4n/FRM-s-WebUI-Source.git"}}'),o=!1,l=a.rE,i=a.cy;a.Jk;let s={green:"96,44%,68%",orange:"20,79%,70%",red:"359,68%,71%",blue:"222,74%,74%"},n={BP_WAT2_C:"290,49%,64%",BP_WAT1_C:"347,82%,58%",BP_Crystal_C:"200,61%,42%",BP_Crystal_mk2_C:"26,69%,48%",BP_Crystal_mk3_C:"288,61%,50%"},c={Pure:s.green,Normal:s.orange,Impure:s.red}},39549:(e,r,t)=>{"use strict";t.d(r,{C:()=>l});var a=t(65453),o=t(46786);let l=(0,a.v)()((0,o.Zr)(e=>({baseURL:location.origin,setBaseURL:r=>e({baseURL:r}),fetchSpeed:1e3,setFetchSpeed:r=>e({fetchSpeed:r}),mapFetchSpeed:2500,setMapFetchSpeed:r=>e({mapFetchSpeed:r}),mapUseInGameColors:!1,setMapUseInGameColors:r=>e({mapUseInGameColors:r}),username:"FRM",setUsername:r=>e({username:r}),authToken:"",setAuthToken:r=>e({authToken:r}),_hasHydrated:!1,setHasHydrated:r=>e({_hasHydrated:r})}),{name:"frm-settings",onRehydrateStorage:()=>e=>{null==e||e.setHasHydrated(!0)}}))},59434:(e,r,t)=>{"use strict";t.d(r,{cn:()=>l});var a=t(52596),o=t(39688);function l(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,o.QP)((0,a.$)(r))}},62523:(e,r,t)=>{"use strict";t.d(r,{p:()=>l});var a=t(95155);t(12115);var o=t(59434);function l(e){let{className:r,type:t,...l}=e;return(0,a.jsx)("input",{type:t,"data-slot":"input",className:(0,o.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...l})}},66695:(e,r,t)=>{"use strict";t.d(r,{BT:()=>n,Wu:()=>c,ZB:()=>s,Zp:()=>l,aR:()=>i});var a=t(95155);t(12115);var o=t(59434);function l(e){let{className:r,...t}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,o.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",r),...t})}function i(e){let{className:r,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,o.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...t})}function s(e){let{className:r,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,o.cn)("leading-none font-semibold",r),...t})}function n(e){let{className:r,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,o.cn)("text-muted-foreground text-sm",r),...t})}function c(e){let{className:r,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,o.cn)("px-6",r),...t})}},94103:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>ez});var a=t(95155),o=t(12115),l=t(5196),i=t(54416),s=t(94498),n=t(30285);let c={power_slug_mk1:"markers/slugs/power_slug_mk1.avif",power_slug_mk2:"markers/slugs/power_slug_mk2.avif",power_slug_mk3:"markers/slugs/power_slug_mk3.avif",power_slug:"markers/normal/power_slug.avif"},d={drones:{drone:"markers/misc/drone.avif",drone_station:"markers/misc/drone_station.avif"},drop_pod:{drop_pod:"markers/misc/drop_pod.avif",drop_pod_collected:"markers/misc/drop_pod_collected.avif"},hub:"markers/misc/hub.avif",player:{alive:"markers/misc/player.avif",player_dead:"markers/misc/player_dead.avif",player_offline:"markers/misc/player_offline.avif"},portal:{portal:"markers/misc/portal.avif",portal_satellite:"markers/misc/portal_satellite.avif"},power:"markers/misc/power.avif",question_mark:"markers/misc/question_mark.avif",radar_tower:"markers/misc/radar_tower.avif",space_elevator:{space_elevator:"markers/misc/space_elevator.avif",space_elevator_ready:"markers/misc/space_elevator_ready.avif"},vehicles:{explorer:"markers/misc/explorer.avif",factory_cart:"markers/misc/factory_cart.avif",tractor:"markers/misc/tractor.avif",trains:{train:"markers/misc/train.avif",train_station:"markers/misc/train_station.avif"},trucks:{truck:"markers/misc/truck.avif",truck_station:"markers/misc/truck_station.avif"}}},u={crate:{crate_death:"markers/normal/create_death.avif",crate_loot:"markers/normal/crate_loot.avif"},drones:{drone:"markers/normal/drone.avif",drone_station:"markers/normal/drone_station.avif"},drop_pod:"markers/normal/drop_pod.avif",hub:"markers/normal/hub.avif",player:{alive:"markers/normal/player.avif",player_dead:"markers/normal/player_dead.avif",player_offline:"markers/normal/player_offline.avif"},portal:{portal:"markers/normal/portal.avif",portal_satellite:"markers/normal/portal_satellite.avif"},power:"markers/normal/power.avif",question_mark:"markers/normal/question_mark.avif",radar_tower:"markers/normal/radar_tower.avif",space_elevator:"markers/normal/space_elevator.avif",vehicles:{explorer:"markers/normal/explorer.avif",factory_cart:"markers/normal/factory_cart.avif",tractor:"markers/normal/tractor.avif",trains:{train:"markers/normal/train.avif",train_station:"markers/normal/train_station.avif"},trucks:{truck:"markers/normal/truck.avif",truck_station:"markers/normal/truck_station.avif"}},artifacts:{somersloop:"markers/normal/BP_WAT1_C.avif",mercer_sphere:"markers/normal/BP_WAT2_C.avif"},buildings:{conveyor_belt_mk_1:"markers/normal/conveyor_belt_mk_1.avif",pipeline_mk_1:"markers/normal/pipeline_mk_1.avif"},animals:{lizard_doggo:"markers/normal/Lizard_Doggo.avif"}},m={lizard_doggo:"markers/animals/Lizard_Doggo.avif"},p={somersloop:"markers/artifacts/somersloop.avif",mercer_sphere:"markers/artifacts/mercer_sphere.avif"};var x=t(15452),h=t(59434);function g(e){let{...r}=e;return(0,a.jsx)(x.bL,{"data-slot":"sheet",...r})}function f(e){let{...r}=e;return(0,a.jsx)(x.l9,{"data-slot":"sheet-trigger",...r})}function b(e){let{...r}=e;return(0,a.jsx)(x.ZL,{"data-slot":"sheet-portal",...r})}function v(e){let{className:r,...t}=e;return(0,a.jsx)(x.hJ,{"data-slot":"sheet-overlay",className:(0,h.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",r),...t})}function y(e){let{className:r,children:t,side:o="right",...l}=e;return(0,a.jsxs)(b,{children:[(0,a.jsx)(v,{}),(0,a.jsxs)(x.UC,{"data-slot":"sheet-content",className:(0,h.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===o&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===o&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===o&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===o&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",r),...l,children:[t,(0,a.jsxs)(x.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,a.jsx)(i.A,{className:"size-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function _(e){let{className:r,...t}=e;return(0,a.jsx)("div",{"data-slot":"sheet-header",className:(0,h.cn)("flex flex-col gap-1.5 p-4",r),...t})}function j(e){let{className:r,...t}=e;return(0,a.jsx)(x.hE,{"data-slot":"sheet-title",className:(0,h.cn)("text-foreground font-semibold",r),...t})}var C=t(89051);function w(e){let{className:r,children:t,...o}=e;return(0,a.jsxs)(C.bL,{"data-slot":"scroll-area",className:(0,h.cn)("relative",r),...o,children:[(0,a.jsx)(C.LM,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),(0,a.jsx)(N,{}),(0,a.jsx)(C.OK,{})]})}function N(e){let{className:r,orientation:t="vertical",...o}=e;return(0,a.jsx)(C.VM,{"data-slot":"scroll-area-scrollbar",orientation:t,className:(0,h.cn)("flex touch-none p-px transition-colors select-none","vertical"===t&&"h-full w-2.5 border-l border-l-transparent","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent",r),...o,children:(0,a.jsx)(C.lr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var k=t(44861),S=t(61946),P=t(43210),A=t(80447),I=t(73213),M=t(10868),z=t(94614),T=t(97345),B=t(85172);let L={assembler:{width:10,length:15,color:[129,200,190,100]},constructor:{width:8,length:10,color:[153,209,219,100]},smelter:{width:6,length:9,color:[133,193,220,100]},converter:{width:16,length:16,color:[239,159,118,100]},foundry:{width:10,length:9,color:[229,200,140,100]},refinery:{width:10,length:20,color:[202,158,230,100]},packager:{width:8,length:8,color:[228,184,244,100]},particle_accelerator:{width:24,length:38,color:[166,234,158,100]},manufacturer:{width:18,length:20,color:[200,25,212,100]},coal_generator:{width:10,length:26,color:[30,102,245,100]},biomass_generator:{width:8,length:8,color:[254,100,11,100]},biomass_generator_integrated:{width:4,length:8,color:[254,100,11,100]},fuel_generator:{width:20,length:20,color:[234,118,203,100]},nuclear_generator:{width:36,length:43,color:[23,146,43,100]}};var F=t(66695),U=t(26126),R=t(45687),E=t(33856),D=t(22346),W=t(71539),q=function(e){return e.MercerSphere="BP_WAT2_C",e.Somersloop="BP_WAT1_C",e}(q||{});function H(e){let[r,t,a]=e;return"".concat(Math.round(r),"deg, ").concat(Math.round(t),"%, ").concat(Math.round(a),"%")}function O(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.85,a=!(arguments.length>3)||void 0===arguments[3]||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"rgb";if("hsl"===o){let[o,l,i]=function(e){if(Array.isArray(e))return e;let r=e.replace(/deg/g,"").replace(/%/g,"").split(",").map(e=>Number(e.trim()));if(3!==r.length)throw Error("Invalid HSL input");return[r[0],r[1],r[2]]}(e),s=[H([o,l,i])];for(let e=0;e<r;e++)s.push(H([o,l,i=a?Math.max(0,i*t):Math.min(100,i/t)]));return s}{let[o,l,i]=e,s=[[o,l,i]];for(let e=0;e<r;e++)a?(o=Math.max(0,Math.floor(o*t)),l=Math.max(0,Math.floor(l*t)),i=Math.max(0,Math.floor(i*t))):(o=Math.min(255,Math.floor(1/t*o)),l=Math.min(255,Math.floor(1/t*l)),i=Math.min(255,Math.floor(1/t*i))),s.push([o,l,i]);return s}}function G(e){let[r,t,a]=e,o=Math.max(r/=255,t/=255,a/=255),l=Math.min(r,t,a),i,s,n=(o+l)/2;if(o===l)i=s=0;else{let e=o-l;switch(s=n>.5?e/(2-o-l):e/(o+l),o){case r:i=(t-a)/e+6*(t<a);break;case t:i=(a-r)/e+2;break;case a:i=(r-t)/e+4}i/=6}return[Math.round(360*i),Math.round(100*s),Math.round(100*n)]}function K(e){return"#".concat(e.replace(/^#/,"").substring(0,6))}function V(e){let r=e.replace(/^#/,""),t=3===r.length?r.split("").map(e=>e+e).join(""):r,a=parseInt(t.substring(0,2),16);return[a,parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)]}var Z=t(39881),J=t(92138),$=t(35169);let X=e=>{let{bool:r,text:t,removeIcons:o}=e;return(0,a.jsxs)(U.E,{style:{backgroundColor:"hsla(".concat(r?E.Tj.green:E.Tj.red,", 0.2)"),borderColor:"hsl(".concat(r?E.Tj.green:E.Tj.red,")"),color:"hsl(".concat(r?E.Tj.green:E.Tj.red,")")},className:"w-full justify-center items-center border relative inline-flex",variant:"outline",children:[!0!=o&&(r?(0,a.jsx)(l.A,{className:"size-4 absolute left-[5px]"}):(0,a.jsx)(i.A,{className:"size-4 absolute left-[5px]"})),t]})},Y=(e,r)=>{let t=e.id,o={title:"",description:(0,a.jsx)(a.Fragment,{})},s="229deg,13%,52%",n=s,c=s;switch(t){case"players":{let e=function(e){let r=e.Dead?E.Tj.orange:e.Online?E.Tj.green:E.Tj.red;return{popup:{title:"Player: ".concat(e.Name||"Offline")},popup_color:r}}(r);o.title=e.popup.title,s=e.popup_color;break}case"vehicles":o=function(e){return{popup:{title:e.Name,description:(0,a.jsxs)("div",{children:[(0,a.jsxs)("ul",{className:"ml-6 list-disc [&>li]:mt-2",children:[(0,a.jsxs)("li",{children:["Current Gear: ",e.CurrentGear]}),(0,a.jsxs)("li",{children:["Forward Speed: ",e.ForwardSpeed]}),(0,a.jsxs)("li",{children:["Engine RPM: ",e.EngineRPM]}),(0,a.jsxs)("li",{children:["Throttle Percent: ",e.ThrottlePercent]}),(0,a.jsxs)("li",{children:["Path Name: ",e.PathName]})]}),(0,a.jsx)(D.w,{className:"my-2 bg-white"}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(X,{bool:e.FollowingPath,text:"Following Path"}),(0,a.jsx)(X,{bool:e.Autopilot,text:"Autopilot"})]})]})}}}(r).popup;break;case"truck_station":o=({popup:{title:r.Name,description:(0,a.jsx)("div",{children:(0,a.jsx)("p",{children:"LoadMode: WIP"})})}}).popup;break;case"drone":o=function(e){return{popup:{title:e.Name,description:(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:["Destination: ",e.CurrentDestination]}),(0,a.jsxs)("p",{children:["Flying Speed: ",Math.round(e.FlyingSpeed)]}),(0,a.jsx)(X,{bool:Math.round(e.FlyingSpeed)>0,text:"Flying"})]})}}}(r).popup;break;case"drone_station":o=function(e){return{popup:{title:e.Name,description:(0,a.jsxs)("p",{children:[" Paired Station: ",e.PairedStation]})}}}(r).popup;break;case"train":o=function(e){return{popup:{title:e.Name,description:(0,a.jsxs)("div",{children:[(0,a.jsxs)("ul",{className:"my-2 ml-6 list-disc [&>li]:mt-2",children:[(0,a.jsxs)("li",{children:["Speed: ",e.ForwardSpeed]}),(0,a.jsxs)("li",{children:["Train Station: ",e.TrainStation]})]}),(0,a.jsx)(X,{bool:e.Derailed,text:"Derailed"})]})}}}(r).popup;break;case"train_station":o=function(e){return{popup:{title:e.Name,description:(0,a.jsx)("div",{children:(0,a.jsxs)("ul",{className:"my-2 ml-6 list-disc [&>li]:mt-2",children:[(0,a.jsxs)("li",{children:["Transfer Rate: ",e.TransferRate]}),(0,a.jsxs)("li",{children:["Inflow rate: ",e.InflowRate]}),(0,a.jsxs)("li",{children:["Outflow rate: ",e.OutflowRate]})]})})}}}(r).popup;break;case"radio_tower":{let e={popup:{title:r.Name}};o.title=e.popup.title;break}case"slugs":{let e=function(e){var r;let t=null!=(r=E.WO[e.ClassName])?r:"229deg,13%,52%";return{popup:{title:(0,a.jsxs)("div",{children:[{BP_Crystal_C:"MK1",BP_Crystal_mk2_C:"MK2",BP_Crystal_mk3_C:"MK3"}[e.ClassName]," Power Slug"]})},popup_color:t}}(r);o.title=e.popup.title,s=e.popup_color;break}case"space_elevator":{let e=function(e){let r=e.FullyUpgraded?E.Tj.green:E.Tj.red,t=e.UpgradeReady?E.Tj.green:E.Tj.red,o=e.FullyUpgraded||e.UpgradeReady?E.Tj.green:E.Tj.red;return{popup:{title:e.Name,description:(0,a.jsxs)("div",{children:[(0,a.jsx)("ul",{className:"ml-6 list-disc [&>li]:mt-2",children:e.CurrentPhase.map(r=>(0,a.jsxs)("li",{children:[r.Name," ",r.Amount,"/",r.TotalCost]},r.ClassName+e.ID))}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)(U.E,{style:{backgroundColor:"hsla(".concat(r,", 0.2)"),borderColor:"hsl(".concat(r,")"),color:"hsl(".concat(r,")"),display:"flex",alignItems:"center",justifyContent:"center"},className:"w-full justify-center border relative inline-flex",variant:"outline",children:[e.FullyUpgraded?(0,a.jsx)(l.A,{className:"size-4 absolute left-[5px]"}):(0,a.jsx)(i.A,{className:"size-4 absolute left-[5px]"}),e.FullyUpgraded?"Fully Upgraded \uD83C\uDF89":"Not Fully Upgraded"]}),(0,a.jsxs)(U.E,{style:{backgroundColor:"hsla(".concat(t,", 0.2)"),borderColor:"hsl(".concat(t,")"),color:"hsl(".concat(t,")"),display:"flex",alignItems:"center",justifyContent:"center"},className:"w-full justify-center border relative inline-flex",variant:"outline",children:[e.UpgradeReady?(0,a.jsx)(l.A,{className:"size-4 absolute left-[5px]"}):(0,a.jsx)(i.A,{className:"size-4 absolute left-[5px]"}),e.UpgradeReady?"Upgrade Ready":"Upgrade Not Ready"]})]})]})},popup_color:o}}(r);o=e.popup,s=e.popup_color;break}case"drop_pod":{let e=function(e){let r=e.Looted?E.Tj.green:E.Tj.red;return{popup:{title:"Drop Pod",description:(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-1",children:["N/A"!=e.RequiredItem.Name&&(0,a.jsx)(U.E,{style:{backgroundColor:"hsla(".concat(e.RequiredItem.Amount==e.RequiredItem.MaxAmount?E.Tj.green:E.Tj.red,", 0.2)"),borderColor:"hsl(".concat(e.RequiredItem.Amount==e.RequiredItem.MaxAmount?E.Tj.green:E.Tj.red,")"),color:"hsl(".concat(e.RequiredItem.Amount==e.RequiredItem.MaxAmount?E.Tj.green:E.Tj.red,")")},className:"w-full justify-center border relative mt-1",variant:"outline",children:"".concat(e.RequiredItem.Name," ").concat(e.RequiredItem.Amount,"/").concat(e.RequiredItem.MaxAmount)}),0!==e.RequiredPower&&(0,a.jsxs)(U.E,{style:{backgroundColor:"hsla(40deg, 62%, 73%, 0.2)",borderColor:"hsl(40deg, 62%, 73%)",color:"hsl(40deg, 62%, 73%)",display:"flex",alignItems:"center",justifyContent:"center"},className:"w-full justify-center border relative",variant:"outline",children:[(0,a.jsx)(W.A,{className:"size-4 absolute left-[5px]"}),e.RequiredPower]}),(0,a.jsxs)(U.E,{style:{backgroundColor:"hsla(".concat(r,", 0.2)"),borderColor:"hsl(".concat(r,")"),color:"hsl(".concat(r,")"),display:"flex",alignItems:"center",justifyContent:"center"},className:"w-full justify-center border relative inline-flex",variant:"outline",children:[e.Looted?(0,a.jsx)(l.A,{className:"size-4 absolute left-[5px]"}):(0,a.jsx)(i.A,{className:"size-4 absolute left-[5px]"}),e.Looted?"Looted":"Not Looted"]})]})})},popup_color:r}}(r);o=e.popup,s=e.popup_color;break}case"resource_node":{let e=function(e){let r=E.ct[e.Purity];return{popup:{title:"".concat(e.Name," Resource Node"),description:(0,a.jsxs)("div",{children:[(0,a.jsx)(U.E,{style:{backgroundColor:"hsla(".concat(r,", 0.2)"),borderColor:"hsl(".concat(r,")"),color:"hsl(".concat(r,")"),display:"flex",alignItems:"center",justifyContent:"center"},className:"w-full justify-center border relative inline-flex",variant:"outline",children:e.Purity}),(0,a.jsx)(X,{bool:e.Exploited,text:"Exploited"})]})},popup_color:r}}(r);o=e.popup,s=e.popup_color;break}case"factory":o=function(e){return{popup:{title:e.Name,description:(0,a.jsxs)("div",{children:[(0,a.jsxs)("ul",{className:"my-2 ml-6 list-disc [&>li]:mt-2",children:[(0,a.jsxs)("li",{children:["Recipe: ",e.Recipe]}),(0,a.jsxs)("li",{children:["Clock Speed: ",Math.round(100*e.ManuSpeed)/100,"%"]}),(0,a.jsxs)("li",{children:["Productivity: ",Math.round(100*e.Productivity)/100,"%"]})]}),(0,a.jsxs)("div",{className:"gap-1 flex flex-col",children:[(0,a.jsx)(X,{bool:-1!==e.PowerInfo.CircuitGroupID,text:"Circuit Group: ".concat(-1===e.PowerInfo.CircuitGroupID?"Disconnected":e.PowerInfo.CircuitGroupID),removeIcons:!0}),(0,a.jsx)(X,{bool:-1!==e.PowerInfo.CircuitGroupID,text:"Circuit: ".concat(-1===e.PowerInfo.CircuitGroupID?"Disconnected":e.PowerInfo.CircuitID),removeIcons:!0}),(0,a.jsx)(X,{bool:e.IsConfigured,text:"Is Configured"}),(0,a.jsx)(X,{bool:e.IsProducing,text:"Is Producing"}),(0,a.jsx)(X,{bool:e.IsPaused,text:"Is Paused"})]})]})}}}(r).popup;break;case"generators":o=function(e){return{popup:{title:e.Name,description:(0,a.jsxs)("div",{children:[(0,a.jsxs)("ul",{className:"my-2 ml-6 list-disc [&>li]:mt-2",children:[(0,a.jsxs)("li",{children:["Base Prod: ",e.BaseProd,"MW"]}),(0,a.jsxs)("li",{children:["Fuel Amount: ",e.FuelAmount]})]}),(0,a.jsxs)("div",{className:"gap-1 flex flex-col",children:[(0,a.jsx)(X,{bool:e.IsFullSpeed,text:"Is Full Speed"}),(0,a.jsx)(X,{bool:e.CanStart,text:"Can Start"})]})]})}}}(r).popup;break;case"hub":o=function(e){return{popup:{title:e.Name,description:(0,a.jsxs)("div",{children:[(0,a.jsxs)("ul",{className:"my-2 ml-6 list-disc [&>li]:mt-2",children:[(0,a.jsxs)("li",{children:["Current Active Schematic: ",e.SchNam]}),(0,a.jsxs)("li",{children:["Time till Drone Ship returns: ",e.ShipReturn]})]}),(0,a.jsx)("div",{className:"gap-1 flex flex-col",children:(0,a.jsx)(X,{bool:e.ShipDock,text:"Is Drone Ship in HUB"})})]})}}}(r).popup;break;case"artifacts":{let e=function(e){let r=e.ClassName===q.Somersloop?"347,82%,58%":"290,49%,64%";return{popup:{title:e.Name},popup_color:r}}(r);o.title=e.popup.title,s=e.popup_color;break}case"belts":{let t=function(e,r){var t,o;let l=G(r.props.getColor(e)),i=+(null!=(o=null==(t=e.features.properties.name.match(/Mk\.(\d+)/))?void 0:t[1])?o:NaN),s=G(O(r.props.getColor(e),5,.85,!1)[i-1]),n="".concat(l[0],",").concat(l[1],"%,").concat(l[2],"%"),c="".concat(s[0],",").concat(s[1],"%,").concat(s[2],"%");return{popup:{title:e.Name,description:(0,a.jsx)("ul",{className:"my-2 ml-6 list-disc [&>li]:mt-2",children:(0,a.jsxs)("li",{children:["Items Per Minute: ",e.ItemsPerMinute]})})},popup_color:n,text_color:c}}(r,e);o=t.popup,s=t.popup_color,c=t.text_color;break}case"splitter_merger":{let e=function(e){var r;let t=G(O([153,209,219],5)[null!=(r=["Build_ConveyorAttachmentMerger_C","Build_ConveyorAttachmentSplitter_C","Build_ConveyorAttachmentMergerPriority_C","Build_ConveyorAttachmentSplitterSmart_C","Build_ConveyorAttachmentSplitterProgrammable_C"].indexOf(e.ClassName))?r:5]),o=G([153,209,219]),l="".concat(t[0],",").concat(t[1],"%,").concat(t[2],"%"),i="".concat(o[0],",").concat(o[1],"%,").concat(o[2],"%"),s="size-5 text-[hsl(96,44%,68%)]",n="size-5 text-[hsl(359,68%,71%)]",c="size-5 invisible",d=e.ClassName.includes("Merger");return{popup:{title:e.Name,description:(0,a.jsx)("div",{className:"w-full h-20 flex items-center justify-center mt-2",children:(0,a.jsx)("div",{className:"flex items-center justify-center size-20 border rounded-full p-2 relative before:bg-card before:inset-0 before:absolute before:rounded-full before:z-[-1]",style:{backgroundColor:"hsla(".concat(i,",0.5)"),borderColor:"hsl(".concat(i,")")},children:(0,a.jsxs)("div",{className:"grid grid-cols-3 grid-rows-3 gap-1",style:{transform:"rotate(".concat(e.location.rotation,"deg)"),transformOrigin:"center"},children:[(0,a.jsx)("div",{className:c}),(0,a.jsx)(Z.A,{className:n}),(0,a.jsx)("div",{className:c}),d?(0,a.jsx)(J.A,{className:s}):(0,a.jsx)($.A,{className:n}),(0,a.jsx)("div",{className:c}),d?(0,a.jsx)($.A,{className:s}):(0,a.jsx)(J.A,{className:n}),(0,a.jsx)("div",{className:c}),(0,a.jsx)(Z.A,{className:s}),(0,a.jsx)("div",{className:c})]})})})},popup_color:l,text_color:i}}(r);o=e.popup,s=e.popup_color,c=e.text_color;break}case"pipes":{let t=function(e,r){var t,o;let l=G(r.props.getColor(e)),i=+(null!=(o=null==(t=e.features.properties.name.match(/Mk\.(\d+)/))?void 0:t[1])?o:NaN),s=G(O(r.props.getColor(e),1,.85,!1)[i-1]),n="".concat(l[0],",").concat(l[1],"%,").concat(l[2],"%"),c="".concat(s[0],",").concat(s[1],"%,").concat(s[2],"%");return{popup:{title:e.Name,description:(0,a.jsx)("ul",{className:"my-2 ml-6 list-disc [&>li]:mt-2",children:(0,a.jsxs)("li",{children:["Speed: ",e.Speed]})})},popup_color:n,text_color:c}}(r,e);o=t.popup,s=t.popup_color,c=t.text_color;break}case"pipe_junctions":{let e=function(e){let r=G([255,204,153]),t="".concat(r[0],",").concat(r[1],"%,").concat(r[2],"%"),a="".concat(r[0],",").concat(r[1],"%,").concat(r[2],"%");return{popup:{title:e.Name},popup_color:t,text_color:a}}(r);o.title=e.popup.title,s=e.popup_color,c=e.text_color;break}case"storage_inv":o=function(e){return{popup:{title:e.Name,description:(0,a.jsx)("ul",{className:"my-2 ml-6 list-disc [&>li]:mt-2",children:e.Inventory.map(e=>(0,a.jsxs)("li",{children:[e.Name," - ",e.Amount]},e.Name+e.ClassName+e.Amount))})}}}(r).popup;break;case"lizard_doggos":o=function(e){return{popup:{title:e.Name,description:(0,a.jsx)("ul",{className:"my-2 ml-6 list-disc [&>li]:mt-2",children:e.Inventory.map(e=>(0,a.jsxs)("li",{children:[e.Name," - ",e.Amount]},e.Name+e.ClassName+e.Amount))})}}}(r).popup;break;default:var d,u;o={title:null!=(u=null!=(d=r.Name)?d:r.ClassName)?u:"Unknown",description:"ID: ".concat(r.ID)}}return n==c&&c!=s&&(c=s),(0,R.F0)((0,a.jsxs)(F.Zp,{className:"relative backdrop-blur-md bg-card border overflow-hidden",style:{borderColor:"hsl(".concat(s,")"),color:"hsl(".concat(c,")")},children:[(0,a.jsx)("div",{className:"absolute inset-0 pointer-events-none rounded-inherit",style:{backgroundColor:"hsla(".concat(s,", 0.4)"),zIndex:0}}),(0,a.jsx)("div",{className:"relative z-10",children:(0,a.jsxs)(F.Wu,{children:[(0,a.jsx)(U.E,{className:"w-full justify-center items-center border relative inline-flex text-xl py-1 mb-1",style:{backgroundColor:"hsla(".concat(c,",0.2)"),borderColor:"hsl(".concat(c,")"),color:"hsl(".concat(c,")")},variant:"outline",children:"string"==typeof o.title?(0,a.jsx)(F.ZB,{children:o.title}):o.title}),"string"==typeof o.description?(0,a.jsx)(F.BT,{children:o.description}):o.description,E.kx&&(0,a.jsx)(F.BT,{children:r.ClassName}),E.kx&&(0,a.jsx)(F.BT,{children:t})]})})]}))};var Q=t(15785),ee=t(54011);function er(e){let{className:r,...t}=e;return(0,a.jsx)(ee.bL,{"data-slot":"avatar",className:(0,h.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",r),...t})}function et(e){let{className:r,...t}=e;return(0,a.jsx)(ee._V,{"data-slot":"avatar-image",className:(0,h.cn)("aspect-square size-full",r),...t})}function ea(e){let{className:r,...t}=e;return(0,a.jsx)(ee.H4,{"data-slot":"avatar-fallback",className:(0,h.cn)("bg-muted flex size-full items-center justify-center rounded-full",r),...t})}function eo(e,r,t){let[a,o]=e,[l,i]=r,s=a-l,n=o-i,c=Math.cos(t),d=Math.sin(t);return[l+s*c-n*d,i+s*d+n*c]}function el(e,r,t){let[a,o]=e,[l,i]=r;return[l+(a-l)*t,i+(o-i)*t]}function ei(e){return e*Math.PI/180}function es(e){let{BoundingBox:r,location:t}=e,a=-t.rotation%360,o=[[r.min.x,-1*r.min.y],[r.max.x,-1*r.min.y],[r.max.x,-1*r.max.y],[r.min.x,-1*r.max.y]],l=[t.x,-1*t.y],i=ei(a+90);return o.map(e=>eo(e,l,i))}let en={artifacts:{icon:u.artifacts.somersloop,id:"artifacts",label:"Artifacts",url:"/getArtifacts",visible:!1},belts:{icon:u.buildings.conveyor_belt_mk_1,id:"belts",label:"Belts",url:"/getBelts",visible:!0},belt_lifts:{icon:u.buildings.conveyor_belt_mk_1,id:"belt_lifts",label:"Belt Lifts",url:"/getLifts",with:"belts",visible:!0},splitter_merger:{icon:u.crate.crate_loot,id:"splitter_merger",label:"Splitter & Merger",url:"/getSplitterMerger",with:"belts",visible:!0},cables:{icon:u.power,id:"cables",label:"Cables",url:"/getCables",visible:!0},drone:{icon:u.drones.drone,id:"drone",label:"Drones",url:"/getDrone",visible:!0},drone_station:{icon:u.drones.drone_station,id:"drone_station",label:"Drone Stations",url:"/getDroneStation",visible:!0,with:"drone"},drop_pod:{icon:u.drop_pod,id:"drop_pod",label:"Drop Pods",url:"/getDropPod",visible:!1},factory:{icon:u.question_mark,id:"factory",label:"Factory",url:"/getFactory",visible:!0},generators:{icon:u.power,id:"generators",label:"Power Generators",url:"/getGenerators",visible:!0},hub:{icon:u.hub,id:"hub",label:"Hubs",url:"/getHUBTerminal",visible:!0},pipes:{icon:u.buildings.pipeline_mk_1,id:"pipes",label:"Pipes",url:"/getPipes",visible:!0},pipe_junctions:{icon:u.buildings.pipeline_mk_1,id:"pipe_junctions",label:"Pipe Junctions",url:"/getPipeJunctions",visible:!0,with:"pipes"},hypertubes:{icon:u.question_mark,id:"hypertubes",label:"Hypertubes",url:"/getHypertube",visible:!0},hypertube_entrances:{icon:u.question_mark,id:"hypertube_entrances",label:"Hypertube Entrances",url:"/getHyperEntrance",visible:!0,with:"hypertubes"},hypertube_junctions:{icon:u.question_mark,id:"hypertube_junctions",label:"Hypertube Junctions",url:"/getHyperJunctions",visible:!0,with:"hypertubes"},players:{icon:u.player.alive,id:"players",label:"Players",url:"/getPlayer",visible:!0},radar:{icon:u.radar_tower,id:"radio_tower",label:"Radar Towers",url:"/getRadarTower",visible:!0},resource_node:{icon:u.question_mark,id:"resource_node",label:"Resource Node",url:"/getResourceNode",visible:!1},slugs:{icon:c.power_slug,id:"slugs",label:"Slug",url:"/getPowerSlug",visible:!1},space_elevator:{icon:u.space_elevator,id:"space_elevator",label:"Space Elevator",url:"/getSpaceElevator",visible:!0},storage_inv:{icon:u.crate.crate_loot,id:"storage_inv",label:"Storage Inv",url:"/getStorageInv",visible:!0},train:{icon:u.vehicles.trains.train,id:"train",label:"Trains",url:"/getTrains",visible:!0},train_station:{icon:u.vehicles.trains.train_station,id:"train_station",label:"Train Stations",url:"/getTrainStation",visible:!0,with:"train"},truck_station:{icon:u.vehicles.trucks.truck_station,id:"truck_station",label:"Truck Stations",url:"/getTruckStation",visible:!0,with:"vehicles"},vehicles:{icon:u.vehicles.trucks.truck,id:"vehicles",label:"Vehicles",url:"/getVehicles",visible:!0},train_rails:{icon:u.vehicles.trains.train,id:"train_rails",label:"Train Rails",url:"/getTrainRails",visible:!0,with:"train"},switches:{icon:u.power,id:"switches",label:"Switches",url:"/getSwitches",visible:!0},extractor:{icon:u.question_mark,id:"extractor",label:"Extractors",url:"/getExtractor",visible:!0},lizard_doggos:{icon:u.animals.lizard_doggo,id:"lizard_doggos",label:"Lizard Doggos",url:"/getDoggo",visible:!0},portals:{icon:u.portal.portal,id:"portals",label:"Portals",url:"/getPortal",visible:!0}};var ec=t(20547);function ed(e){let{...r}=e;return(0,a.jsx)(ec.bL,{"data-slot":"popover",...r})}function eu(e){let{...r}=e;return(0,a.jsx)(ec.l9,{"data-slot":"popover-trigger",...r})}function em(e){let{className:r,align:t="center",sideOffset:o=4,...l}=e;return(0,a.jsx)(ec.ZL,{children:(0,a.jsx)(ec.UC,{"data-slot":"popover-content",align:t,sideOffset:o,className:(0,h.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",r),...l})})}var ep=t(23464),ex=t(39549),eh=t(62523),eg=t(71366),ef=t(60760),eb=t(76408),ev=t(83921);function ey(e){let{delayDuration:r=0,...t}=e;return(0,a.jsx)(ev.Kq,{"data-slot":"tooltip-provider",delayDuration:r,...t})}function e_(e){let{...r}=e;return(0,a.jsx)(ey,{children:(0,a.jsx)(ev.bL,{"data-slot":"tooltip",...r})})}function ej(e){let{...r}=e;return(0,a.jsx)(ev.l9,{"data-slot":"tooltip-trigger",...r})}function eC(e){let{className:r,sideOffset:t=0,children:o,...l}=e;return(0,a.jsx)(ev.ZL,{children:(0,a.jsxs)(ev.UC,{"data-slot":"tooltip-content",sideOffset:t,className:(0,h.cn)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",r),...l,children:[o,(0,a.jsx)(ev.i3,{className:"z-50 size-2.5 invisible"})]})})}var ew=t(6874),eN=t.n(ew);function ek(){let{baseURL:e,fetchSpeed:r,authToken:t,username:l,_hasHydrated:s}=(0,ex.C)(),[c,d]=(0,o.useState)([]);(0,o.useEffect)(()=>{if(!s)return;let t=setInterval(async()=>{try{let r=(await ep.A.get(e+"/getChatMessages")).data;r=r.map(e=>"System"==e.Type?{...e,Sender:"System",Message:e.Message.replace("<PlayerName/>",e.Sender)}:e),d(r)}catch(e){}},r);return()=>{clearInterval(t)}},[s]);let[u,m]=(0,o.useState)(""),[p,x]=(0,o.useState)(!1),h=o.useCallback(async()=>{if(u.trim())try{let r=await ep.A.post(e+"/sendChatMessage",{message:u,sender:l},{headers:{"X-FRM-Authorization":t,"Content-Type":"application/json"}});return 200===r.status&&m(""),200===r.status?{status:"OK",message:"Message Sent!"}:{status:"Error",message:r.data.error}}catch(e){return{status:"Error",message:e.message||"Failed to send message"}}},[e,t,l,u]);if((0,o.useEffect)(()=>{let e=e=>{"Escape"===e.key&&x(!1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),s)return(0,a.jsxs)("div",{className:"overflow-hidden",children:[(0,a.jsx)(ef.N,{children:!p&&(0,a.jsx)(eb.P.div,{initial:{opacity:1,scale:1,x:0},animate:{opacity:1,scale:1,x:0},exit:{opacity:0,scale:.8,x:0},className:"right-4 bottom-4 absolute size-10 rounded-full rounded-br-none bg-card",children:""==l.trim()||""==t.trim()?(0,a.jsxs)(e_,{children:[(0,a.jsx)(ev.k$,{className:"size-10 rounded-full rounded-br-none overflow-hidden",children:(0,a.jsx)(eN(),{href:location.origin+"/settings".concat(""==l.trim()||""==t.trim()?""==l.trim()?"#username":"#authorization":""),children:(0,a.jsx)(n.$,{variant:"outline",className:"p-1 size-10 rounded-full rounded-br-none",disabled:""==l.trim()||""==t.trim(),asChild:!0,children:(0,a.jsx)("span",{children:(0,a.jsx)(eg.A,{className:"text-muted-foreground"})})})})}),(0,a.jsx)(eC,{className:"bg-card text-primary border",children:(0,a.jsx)("p",{children:"To use chat feature please go to settings and set it up!"})})]}):(0,a.jsx)(n.$,{variant:"outline",className:"p-1 size-10 rounded-full rounded-br-none",onClick:()=>x(()=>!0),disabled:""==l.trim()||""==t.trim(),children:(0,a.jsx)(eg.A,{})})})}),(0,a.jsx)(ef.N,{children:p&&(0,a.jsxs)(eb.P.div,{className:"w-[30vw] h-[50vh] bg-card absolute right-0 bottom-0 rounded-tl-md border-l border-t flex flex-col overflow-hidden shadow-lg",style:{transformOrigin:"bottom right"},initial:{opacity:0,scale:0,x:0},animate:{opacity:1,scale:1,x:0},exit:{opacity:0,scale:.8,x:0},children:[(0,a.jsx)(n.$,{variant:"outline",className:"p-1 !bg-card absolute left-1 top-1 z-1 size-6",onClick:()=>x(()=>!1),children:(0,a.jsx)(i.A,{})}),(0,a.jsx)(w,{className:"p-3 flex-1 overflow-y-auto bg-card flex flex-col gap-1 scrollarea-child-target",children:c.map(e=>{let r=e.Sender==l,[t,o,i,s]=function(e){let r=Math.round(255*e.R),t=Math.round(255*e.G);return[r,t,Math.round(255*e.B),parseFloat(e.A.toFixed(2))]}(e.Color);return(0,a.jsxs)("div",{className:"max-w-[80%] p-3 rounded-md shadow-sm border space-y-1 right-0 my-1 ".concat(r?"self-end rounded-br-none":"self-start rounded-bl-none"),style:{borderColor:"System"===e.Sender?"var(--color-blue-400)":"rgb(".concat(t,",").concat(o,",").concat(i,")"),color:"System"===e.Sender?"var(--color-blue-400)":"rgb(".concat(t,",").concat(o,",").concat(i,")"),backgroundColor:"System"===e.Sender?"color-mix(in oklab, var(--color-blue-400) /* oklch(70.7% 0.165 254.624) */ 10%, transparent)":"rgb(".concat(t,",").concat(o,",").concat(i,",0.1)")},children:[(0,a.jsx)("p",{className:"font-semibold text-sm mb-1",children:"System"==e.Type||e.Sender?e.Sender:"FRM"}),(0,a.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.Message})]},e.ServerTimeStamp+e.Sender)})}),(0,a.jsxs)("div",{className:"flex p-3 border-t rounded-b-md space-x-2",children:[(0,a.jsx)(eh.p,{placeholder:"Type your message...",className:"flex-1 rounded-md border px-3 py-2",value:u,onChange:e=>m(e.target.value),onKeyDown:e=>{"Enter"===e.key&&h()}}),(0,a.jsx)(n.$,{className:"px-5 py-2 rounded-md transition",onClick:h,disabled:""==u.trim(),children:"Send"})]})]},"chat")})]})}var eS=t(88245);let eP=[[-6,-151],[3.7469,-151],[13.4938,-151],[23.2407,-151],[32.9876,-151],[42.7345,-151],[52.4815,-151],[62.2284,-151],[71.9753,-151],[81.7222,-151],[91.4691,-151],[101.216,-151],[105,-145.0371],[105,-135.2902],[105,-125.5433],[105,-115.7964],[105,-106.0495],[105,-96.3025],[105,-86.5556],[105,-76.8087],[105,-67.0618],[105,-57.3149],[105,-47.568],[105,-37.8211],[105,-28.0742],[105,-18.3273],[105,-8.5804],[105,1.1665],[105,10.9135],[105,20.6604],[105,30.4073],[105,40.1542],[105,49.9011],[105,59.648],[105,69.3949],[105,79.1418],[105,88.8887],[105,98.6356],[105,108.3825],[105,118.1295],[105,127.8764],[105,137.6233],[105,147.3702],[98.3829,150.5],[88.636,150.5],[78.8891,150.5],[69.1422,150.5],[59.3953,150.5],[49.6484,150.5],[39.9015,150.5],[30.1545,150.5],[20.4076,150.5],[10.6607,150.5],[.9138,150.5],[-6,147.6669],[-6,137.92],[-6,128.1731],[-6,118.4262],[-6,108.6793],[-6,98.9324],[-6,89.1855],[-6,79.4386],[-6.9052,64.4389],[-9.9833,50.8723],[-14.7534,39.6107],[-20.7055,30.4181],[-27.3297,23.0585],[-34.116,17.2962],[-40.5547,12.895],[-46.1357,9.6192],[-50.3492,7.2326],[-56.6734,3.4822],[-65.0926,-1.429],[-73.5118,-6.3402],[-81.9309,-11.2514],[-90.3501,-16.1626],[-98.7693,-21.0737],[-104.5379,-26.7015],[-99.7404,-35.186],[-94.9429,-43.6705],[-90.1454,-52.155],[-85.3479,-60.6394],[-80.5504,-69.1239],[-75.7529,-77.6084],[-70.9554,-86.0928],[-66.1579,-94.5773],[-61.3604,-103.0618],[-56.5629,-111.5462],[-51.7654,-120.0307],[-43.3928,-116.1346],[-34.8109,-111.5136],[-26.2291,-106.8926],[-17.6472,-102.2716],[-9.0653,-97.6506],[-6,-102.2655],[-6,-112.0124],[-6,-121.7593],[-6,-131.5062],[-6,-141.2531],[-6,-151]],eA=[[-291.9431,-242.2162],[-302.9991,-222.8081],[-314.3915,-203.4428],[-318.5266,-183.2547],[-327.3969,-162.767],[-335.5684,-142.3059],[-341.4369,-119.8758],[-335.0021,-99.6356],[-322.7056,-81.7225],[-305.8352,-68.256],[-286.3828,-57.1485],[-266.7842,-46.2611],[-248.4179,-33.738],[-228.5032,-24.2809],[-209.1988,-12.8402],[-190.7803,.115],[-174.5179,15.219],[-160.5075,32.8951],[-149.13,51.9106],[-140.3678,72.2745],[-133.8809,93.7824],[-130.903,115.8254],[-130.5614,138.208],[-131.822,160.5105],[-130.6975,182.8056],[-130.1596,205.1211],[-130.3157,227.5217],[-130.9849,249.5594],[-119.9336,268.7231],[-109.2773,287.122],[-87.5202,293.5307],[-65.9183,297.2801],[-43.5141,299.7716],[-25.237,304.4505],[-2.8846,304.4505],[19.4677,304.4505],[37.8224,299.9994],[60.0233,297.5344],[82.1327,294.2456],[104.4197,289.6146],[119.59,274.583],[128.2073,255.4297],[130.2284,233.7246],[130.7572,211.5509],[130.6859,189.1338],[131.8223,167.0579],[130.5542,144.8502],[130.0033,122.252],[131.9904,100.2352],[137.3062,78.6251],[145.6718,57.7821],[156.707,38.1783],[170.0312,20.2859],[185.4687,4.5764],[203.3113,-9.3438],[222.4537,-21.3923],[242.3488,-30.646],[261.0756,-42.6046],[280.5465,-53.6037],[299.6256,-65.4078],[318.8723,-75.809],[330.4092,-94.9918],[341.4369,-113.6238],[336.9773,-135.4945],[329.6538,-156.6026],[320.9589,-177.1832],[314.7341,-197.3683],[306.0307,-216.94],[294.6418,-236.4328],[281.0439,-247.9679],[268.5477,-266.4229],[254.2085,-283.7609],[238.3002,-299.3902],[217.3135,-304.4505],[195.7151,-303.3887],[175.526,-295.5444],[156.5344,-283.6309],[137.0887,-272.6822],[117.3158,-262.5258],[98.2179,-251.2168],[78.9306,-239.9138],[58.7321,-230.4124],[37.5852,-223.3821],[15.4795,-219.4944],[-6.7122,-218.9483],[-29.2205,-221.4057],[-50.8614,-226.9449],[-71.2917,-235.6508],[-90.7954,-246.5273],[-109.4932,-258.7451],[-129.5735,-268.2055],[-148.9546,-279.3176],[-168.4332,-290.3697],[-187.0184,-302.1822],[-208.9513,-302.803],[-229.8103,-303.8303],[-248.3102,-291.2057],[-263.5347,-273.2424],[-275.7049,-255.4447],[-291.9431,-242.2162]],eI=["BP_Crystal_C","BP_Crystal_mk2_C","BP_Crystal_mk3_C"],eM={BP_Crystal_C:"MK1",BP_Crystal_mk2_C:"MK2",BP_Crystal_mk3_C:"MK3"};function ez(){let e=new k.A({id:"2d-scene",flipY:!1,controller:{dragRotate:!1}}),r=new S.A({id:"map",image:"map.avif",bounds:[-324698.16796875,-375e3,425301.83203125,375e3]}),[t,x]=(0,o.useState)(-10),[h,b]=(0,o.useState)(0),{baseURL:v,mapUseInGameColors:C,_hasHydrated:N}=(0,ex.C)();async function F(){let e;try{e=await (await ep.A.get(v+en.resource_node.url)).data}catch(e){}if(null==e)return;let r=new Map;e.forEach(e=>{e.ClassName&&e.Purity&&(r.has(e.ClassName)||r.set(e.ClassName,{Name:e.Name||"",extra:new Set}),r.get(e.ClassName).extra.add(e.Purity))});let t=Array.from(r.entries()).sort((e,r)=>{let[t]=e,[a]=r;return t.localeCompare(a)}).map(e=>{let[r,{Name:t,extra:a}]=e;return{layerId:"resource_node",className:r,name:t,extra:Array.from(a).sort()}}),a=[...t,...eI.map(e=>({layerId:"slugs",className:e,name:"Slug ".concat(eM[e]),extra:[eM[e]]})),{layerId:"artifacts",className:q.MercerSphere,name:"Mercer Sphere",extra:["NoExtra"]},{layerId:"artifacts",className:q.Somersloop,name:"Somersloop",extra:["NoExtra"]}],o=a.map(e=>e.extra.map(r=>"".concat(e.layerId,"-").concat(e.className,"-").concat(r)));return[a,o]}(0,o.useEffect)(()=>{let e=setTimeout(()=>b(h+1),1e3);return()=>clearTimeout(e)},[h]);let[U,R]=(0,o.useState)([]),[W,H]=(0,o.useState)([]);(0,o.useEffect)(()=>{!async function(){if(!N)return;let e=await F();e&&H(e[0])}()},[N]);let[G,Z]=(0,o.useState)(()=>structuredClone(en));function J(e,r,t,a,o,l){let i={autoHighlight:!0,coordinateSystem:P.rf.CARTESIAN,data:t?v+G[r].url+"#".concat(h):[],getIcon:l||(()=>({height:70,url:e,width:70})),getPosition:e=>[e.location.x,-1*e.location.y],getSize:70,highlightColor:[255,255,255,20],id:r,pickable:!0,updateTriggers:{visible:t},visible:t};return null!=a&&null!=o&&(i={...i,getFilterValue:a,filterRange:o,extensions:[new eS.A({filterSize:1})]}),new A.A(i)}function $(e,r,t,a,o,l){return new I.A({autoHighlight:!0,data:r?v+G[e].url+"#".concat(h):[],getFillColor:C?e=>V(K(e.ColorSlot.PrimaryColor)):a,getLineColor:C?e=>V(K(e.ColorSlot.SecondaryColor)):o,getLineWidth:t,getPolygon:l||(e=>es(e)),highlightColor:[255,255,255,20],id:e,lineWidthMinPixels:1,pickable:!0,positionFormat:"XY",updateTriggers:{visible:r},visible:r})}class X extends M.A{renderLayers(){let{id:e,visible:r,iconUrl:t,getIconFunc:a,getFillColor:o,getLineColor:l,getLineWidth:i}=this.props,s=this.context.viewport.zoom>-8,n=r?v+G[e].url+"#".concat(h):[];return[new A.A({autoHighlight:!0,coordinateSystem:P.rf.CARTESIAN,data:n,getIcon:a||(()=>({height:70,url:t,width:70})),getPosition:e=>[e.location.x,-1*e.location.y],getSize:70,highlightColor:[255,255,255,20],id:"".concat(e,"-icon"),pickable:!0,updateTriggers:{visible:r&&!s},visible:r&&!s}),new I.A({autoHighlight:!0,data:n,getFillColor:C?e=>V(K(e.ColorSlot.PrimaryColor)):o,getLineColor:C?e=>V(K(e.ColorSlot.SecondaryColor)):l,getLineWidth:i,getPolygon:e=>es(e),highlightColor:[255,255,255,20],id:"".concat(e,"-polygon"),lineWidthMinPixels:1,pickable:!0,positionFormat:"XY",updateTriggers:{visible:r&&s},visible:r&&s})]}}function ee(e,r,a){return new z.A({id:e,data:a?v+G[e].url+"#".concat(h):[],getPath:e=>e.SplineData.flatMap(e=>[e.x,-1*e.y]),getColor:C?e=>V(K(e.ColorSlot.PrimaryColor)):r,positionFormat:"XY",visible:a,updateTriggers:{visible:a},getWidth:e=>100*(t>-8?1:8),jointRounded:!0,capRounded:!0,pickable:!0,autoHighlight:!0,highlightColor:[255,255,255,20]})}class ec extends M.A{getPickingInfo(e){let{info:r}=e;return r.layer&&r.sourceLayer&&(r.layer=r.sourceLayer),r}renderLayers(){let e=G.belts.visible;return[ee("belts",e=>{var r,t;return O([153,209,219],5)[(null!=(t=null==(r=e.features.properties.name.match(/Mk\.(\d+)/))?void 0:r[1])?t:NaN)-1]},e),$("belt_lifts",e,20,e=>{var r,t;return O([153,209,219],5)[(null!=(t=null==(r=e.features.properties.name.match(/Mk\.(\d+)/))?void 0:r[1])?t:NaN)-1]},e=>{var r,t;return O([153,209,219],6)[+(null!=(t=null==(r=e.features.properties.name.match(/Mk\.(\d+)/))?void 0:r[1])?t:NaN)]},e=>{let r=e.BoundingBox,t=e.location,a=-t.rotation%360,o=[[r.min.x,-1*r.min.y],[r.max.x,-1*r.min.y],[r.max.x,-1*r.min.y-20],[r.max.x+200,-1*r.min.y-20],[r.max.x+200,-1*r.max.y+20],[r.max.x,-1*r.max.y+20],[r.max.x,-1*r.max.y],[r.min.x,-1*r.max.y]],l=[t.x,-1*t.y],i=ei(a+90);return o.map(e=>eo(e,l,i))}),$("splitter_merger",e,20,e=>{var r;return O([153,209,219],5)[null!=(r=["Build_ConveyorAttachmentMerger_C","Build_ConveyorAttachmentSplitter_C","Build_ConveyorAttachmentMergerPriority_C","Build_ConveyorAttachmentSplitterSmart_C","Build_ConveyorAttachmentSplitterProgrammable_C"].indexOf(e.ClassName))?r:5]},[41,44,60],e=>{let r=e.BoundingBox,t=e.location,a=-t.rotation%360,o=[[r.min.x,-1*r.min.y],[r.max.x,-1*r.min.y],[r.max.x,-1*r.max.y],[r.min.x,-1*r.max.y]];if(e.ClassName.includes("Merger")||e.ClassName.includes("Splitter")){let t,a,l=20,i=20,s=60,n=[],c=[];e.ClassName.includes("Merger")?(l=20,i=20,s=60,n=[[r.min.x+l,-1*r.min.y],[r.min.x+l,-1*r.min.y+i],[r.max.x-l,-1*r.min.y+i],[r.max.x-l,-1*r.min.y]],c=[[r.max.x-l,-1*r.max.y],[r.max.x-l,-1*r.max.y-i],[r.min.x+l,-1*r.max.y-i],[r.min.x+l,-1*r.max.y]]):e.ClassName.includes("Splitter")&&(l=20,i=20,s=60,n=[[r.min.x+l,-1*r.min.y],[r.min.x+l,-1*r.min.y+s],[r.max.x-l,-1*r.min.y+s],[r.max.x-l,-1*r.min.y]],c=[[r.max.x-l,-1*r.max.y],[r.max.x-l,-1*r.max.y-s],[r.min.x+l,-1*r.max.y-s],[r.min.x+l,-1*r.max.y]]),t=[[r.max.x,-1*r.min.y-l],[r.max.x+s,-1*r.min.y-l],[r.max.x+s,-1*r.max.y+l],[r.max.x,-1*r.max.y+l]],a=[[r.min.x,-1*r.max.y+l],[r.min.x-i,-1*r.max.y+l],[r.min.x-i,-1*r.min.y-l],[r.min.x,-1*r.min.y-l]],o=[...n,[r.max.x,-1*r.min.y],...t,[r.max.x,-1*r.max.y],...c,[r.min.x,-1*r.max.y],...a,[r.min.x,-1*r.min.y]]}let l=[t.x,-1*t.y],i=ei(a+90);return o.map(e=>eo(e,l,i))})]}}class eh extends M.A{getPickingInfo(e){let{info:r}=e;return r.layer&&r.sourceLayer&&(r.layer=r.sourceLayer),r}renderLayers(){let e=G.pipes.visible;return[ee("pipes",e=>{var r,t;return O([255,204,153],1)[(null!=(t=null==(r=e.features.properties.name.match(/Mk\.(\d+)/))?void 0:r[1])?t:NaN)-1]},e),$("pipe_junctions",e,20,()=>[255,204,153],()=>O([255,204,153],6)[6],e=>{let r=e.BoundingBox,t=e.location,a=-t.rotation%360,o=[[r.min.x+20,-1*r.min.y],[r.min.x+20,-1*r.min.y+40],[r.max.x-20,-1*r.min.y+40],[r.max.x-20,-1*r.min.y]],l=[[r.max.x,-1*r.min.y-20],[r.max.x+40,-1*r.min.y-20],[r.max.x+40,-1*r.max.y+20],[r.max.x,-1*r.max.y+20]],i=[[r.max.x-20,-1*r.max.y],[r.max.x-20,-1*r.max.y-40],[r.min.x+20,-1*r.max.y-40],[r.min.x+20,-1*r.max.y]],s=[[r.min.x,-1*r.max.y+20],[r.min.x-40,-1*r.max.y+20],[r.min.x-40,-1*r.min.y-20],[r.min.x,-1*r.min.y-20]],n=[...o,[r.max.x,-1*r.min.y],...l,[r.max.x,-1*r.max.y],...i,[r.min.x,-1*r.max.y],...s,[r.min.x,-1*r.min.y]],c=[t.x,-1*t.y],d=ei(a+90);return n.map(e=>eo(e,c,d))})]}}class eg extends M.A{getPickingInfo(e){let{info:r}=e;return r.layer&&r.sourceLayer&&(r.layer=r.sourceLayer),r}renderLayers(){let e=G.hypertubes.visible;return[ee("hypertubes",()=>[255,100,153],e),$("hypertube_entrances",e,20,()=>[255,100,153],()=>O([255,100,153],6)[6],e=>{let r=e.BoundingBox,t=e.location,a=-t.rotation%360,o=[[r.min.x-80,-1*r.min.y+120],[r.max.x-80,-1*r.min.y-120],[r.max.x-240,-1*r.max.y-120],[r.min.x-240,-1*r.max.y+120]],l=[t.x,-1*t.y],i=ei(a+90);return o.map(e=>eo(e,l,i))}),$("hypertube_junctions",e,20,()=>[255,100,153],()=>O([255,100,153],6)[6],e=>{let r,t,a;e.BoundingBox;let o=e.location,l=-o.rotation%360;return"Build_HypertubeTJunction_C"===e.ClassName?(t=[o.x,-o.y],a=ei(l),r=eP.map(e=>[o.x+e[0]-50,-o.y+e[1]]).map(e=>[2*t[0]-e[0],e[1]]).map(e=>el(e,t,2))):(t=[o.x,-o.y-18],a=ei(l+270),r=eA.map(e=>[o.x+e[0],-o.y+e[1]]).map(e=>el(e,t,.8))),r.map(e=>eo(e,t,a))})]}}class ef extends M.A{getPickingInfo(e){let{info:r}=e;return r.layer&&r.sourceLayer&&(r.layer=r.sourceLayer),r}renderLayers(){let e=G.train.visible;return[ee("train_rails",()=>V("#8839ef"),e),new X({id:"train_station",visible:e,iconUrl:d.vehicles.trains.train_station,getLineWidth:20,getFillColor:V("#8aadf4"),getLineColor:[41,44,60]}),J(d.vehicles.trains.train,"train",e,null,null)]}}class eb extends M.A{getPickingInfo(e){let{info:r}=e;return r.layer&&r.sourceLayer&&(r.layer=r.sourceLayer),r}renderLayers(){let e=G.vehicles.visible;return[new X({id:"truck_station",visible:e,iconUrl:d.vehicles.trucks.truck_station,getLineWidth:20,getFillColor:V("#91d7e3"),getLineColor:[41,44,60]}),J(d.vehicles.trucks.truck,"vehicles",e,null,null,e=>{var r;return{height:70,url:null!=(r=({BP_Golfcart_C:d.vehicles.factory_cart,BP_Tractor_C:d.vehicles.tractor,BP_Truck_C:d.vehicles.trucks.truck})[e.ClassName])?r:d.vehicles.explorer,width:70}})]}}class ev extends M.A{getPickingInfo(e){let{info:r}=e;return r.layer&&r.sourceLayer&&(r.layer=r.sourceLayer),r}renderLayers(){let e=G.drone.visible;return[new X({id:"drone_station",visible:e,iconUrl:d.drones.drone_station,getLineWidth:20,getFillColor:V("#b7bdf8"),getLineColor:[41,44,60]}),J(d.drones.drone,"drone",e,null,null)]}}let ey=[J(c.power_slug,"slugs",G.slugs.visible,e=>{let r=U.filter(e=>e.startsWith("slugs")),t=0!=r.filter(r=>r.split("-").includes(e.ClassName)).length;return 0!=r.length?+!!t:1},[1,1],e=>{var r;return{url:null!=(r=({BP_Crystal_C:c.power_slug_mk1,BP_Crystal_mk2_C:c.power_slug_mk2,BP_Crystal_mk3_C:c.power_slug_mk3})[e.ClassName])?r:d.question_mark,width:70,height:70}}),J(d.drop_pod.drop_pod,"drop_pod",G.drop_pod.visible,null,null,e=>({url:e.Looted?d.drop_pod.drop_pod_collected:d.drop_pod.drop_pod,width:70,height:70})),J(p.somersloop,"artifacts",G.artifacts.visible,e=>{let r=U.filter(e=>e.startsWith("artifacts")),t=0!=r.filter(r=>r.split("-").includes(e.ClassName)).length;return 0!=r.length?+!!t:1},[1,1],e=>({height:70,url:e.ClassName==q.Somersloop?p.somersloop:e.ClassName==q.MercerSphere?p.mercer_sphere:d.question_mark,width:70})),J(d.question_mark,"resource_node",G.resource_node.visible,e=>{let r=U.filter(e=>e.startsWith("resource_node")),t=0!=r.filter(r=>{let t=r.split("-");return t[1]==e.ClassName&&t[2]==e.Purity}).length;return 0!=r.length?+!!t:1},[1,1],e=>({url:e.ClassName?"".concat("markers/resources/"+e.ClassName,"/").concat(e.Purity.toLowerCase(),".avif"):d.question_mark,width:70,height:70})),new T.A({pickable:!0,id:"cables",data:G.cables.visible?v+G.cables.url+"#".concat(h):[],getColor:[44,117,255],getSourcePosition:e=>[e.location0.x,-1*e.location0.y],getTargetPosition:e=>[e.location1.x,-1*e.location1.y],getWidth:2,visible:G.cables.visible,updateTriggers:{visible:G.cables.visible}}),new ec({uwu:"uwu",ThisIsForUpdating:()=>{}}),new eh({uwu:"uwu",ThisIsForUpdating:()=>{}}),new ef({uwu:"uwu",ThisIsForUpdating:()=>{}}),new eb({uwu:"uwu",ThisIsForUpdating:()=>{}}),new ev({uwu:"uwu",ThisIsForUpdating:()=>{}}),new eg({uwu:"uwu",ThisIsForUpdating:()=>{}}),$("factory",G.factory.visible,20,C?e=>V(K(e.ColorSlot.PrimaryColor)):e=>e.ClassName.includes("Smelter")?new Uint8Array(L.smelter.color):e.ClassName.includes("Assembler")?new Uint8Array(L.assembler.color):e.ClassName.includes("Constructor")?new Uint8Array(L.constructor.color):e.ClassName.includes("Manufacturer")?new Uint8Array(L.manufacturer.color):e.ClassName.includes("HadronCollider")?new Uint8Array(L.particle_accelerator.color):e.ClassName.includes("Packager")?new Uint8Array(L.packager.color):e.ClassName.includes("Refinery")?new Uint8Array(L.refinery.color):e.ClassName.includes("Converter")?new Uint8Array(L.converter.color):e.ClassName.includes("Foundry")?new Uint8Array(L.foundry.color):[100,100,100,100],C?e=>V(K(e.ColorSlot.SecondaryColor)):[41,44,60]),$("generators",G.generators.visible,20,C?e=>V(K(e.ColorSlot.PrimaryColor)):e=>e.ClassName.includes("Coal")?new Uint8Array(L.coal_generator.color):e.ClassName.includes("GeneratorBiomass")?new Uint8Array(L.biomass_generator.color):e.ClassName.includes("IntegratedBiomass")?new Uint8Array(L.biomass_generator_integrated.color):e.ClassName.includes("Fuel")?new Uint8Array(L.fuel_generator.color):e.ClassName.includes("Nuclear")?new Uint8Array(L.nuclear_generator.color):[100,100,100,100],C?e=>V(K(e.ColorSlot.SecondaryColor)):[41,44,60]),$("extractor",G.extractor.visible,20,C?e=>V(K(e.ColorSlot.PrimaryColor)):()=>[100,100,100,100],C?e=>V(K(e.ColorSlot.SecondaryColor)):[41,44,60],e=>{let r=e.BoundingBox,t=e.location,a=-t.rotation%360,o=[[r.min.x,-1*r.min.y],[r.max.x,-1*r.min.y],[r.max.x,-1*r.max.y+400],[r.max.x-120,-1*r.max.y+400],[r.max.x-120,-1*r.max.y-80],[r.min.x+120,-1*r.max.y-80],[r.min.x+120,-1*r.max.y+400],[r.min.x,-1*r.max.y+400]],l=[t.x,-1*t.y],i=ei(a+90);return o.map(e=>eo(e,l,i))}),$("storage_inv",G.storage_inv.visible,20,C?e=>V(K(e.ColorSlot.PrimaryColor)):()=>V("#c6a0f6"),C?e=>V(K(e.ColorSlot.SecondaryColor)):[41,44,60]),new X({id:"space_elevator",visible:G.space_elevator.visible,iconUrl:d.space_elevator.space_elevator,getLineWidth:20,getFillColor:C?e=>V(K(e.ColorSlot.PrimaryColor)):()=>V("#eed49f"),getLineColor:C?e=>V(K(e.ColorSlot.SecondaryColor)):[41,44,60],getIconFunc:e=>({height:70,url:e.FullyUpgraded||e.UpgradeReady?d.space_elevator.space_elevator_ready:d.space_elevator.space_elevator,width:70})}),new X({id:"radar",visible:G.radar.visible,iconUrl:d.radar_tower,getLineWidth:20,getFillColor:()=>V("#f0c6c6"),getLineColor:C?e=>V(K(e.ColorSlot.SecondaryColor)):[41,44,60]}),new X({id:"switches",visible:G.switches.visible,iconUrl:d.power,getLineWidth:20,getFillColor:()=>V("#f0c6c6"),getLineColor:C?e=>V(K(e.ColorSlot.SecondaryColor)):[41,44,60]}),J(d.player.alive,"players",G.players.visible,null,null,e=>({url:e.Dead?d.player.player_dead:e.Online?d.player.alive:d.player.player_offline,width:70,height:70})),J(d.hub,"hub",G.hub.visible,null,null),J(u.animals.lizard_doggo,"lizard_doggos",G.lizard_doggos.visible,null,null,e=>({url:m.lizard_doggo,width:70,height:70})),new X({id:"portals",visible:G.portals.visible,iconUrl:d.portal.portal,getLineWidth:20,getFillColor:()=>V("#f0c6c6"),getLineColor:C?e=>V(K(e.ColorSlot.SecondaryColor)):[41,44,60],getIconFunc:e=>({url:({Build_PortalSatellite_C:d.portal.portal_satellite,Build_Portal_C:d.portal.portal})[e.ClassName],width:70,height:70})})],[ew,eN]=(0,o.useState)(null);return(0,o.useEffect)(()=>eN((0,a.jsxs)("table",{className:"w-full table-auto border-collapse text-xs",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"text-left",children:[(0,a.jsx)("th",{className:"p-1",children:"Icon"}),(0,a.jsx)("th",{className:"p-1",children:"Name"}),(0,a.jsx)("th",{className:"p-1 text-center",children:"Options"})]})}),(0,a.jsx)("tbody",{children:W.map(e=>{let{className:r,name:t,extra:o,layerId:s}=e,n="markers/normal/".concat(r,".avif"),c=o.filter(e=>U.includes("".concat(s,"-").concat(r,"-").concat(e))),d=c.length>0&&(0,a.jsx)("div",{className:"absolute right-[-2px] top-[-2px]",children:(0,a.jsx)("div",{className:"relative",style:{width:"".concat(3*c.length,"px"),height:"8px"},children:c.map((e,t)=>{var o;let l=null!=(o=E.WO[r])?o:E.ct[e];return(0,a.jsx)("div",{className:"rounded-full size-2 absolute border bg-card",style:{borderColor:"hsl(".concat(l,")"),top:0,left:"".concat(3*t,"px"),zIndex:t}},e)})})});return(0,a.jsxs)("tr",{className:"text-center border-t",children:[(0,a.jsx)("td",{className:"p-1",children:(0,a.jsx)("img",{src:n,alt:r,className:"size-6"})}),(0,a.jsx)("td",{className:"p-1 text-left truncate max-w-[120px]",children:t}),(0,a.jsx)("td",{className:"p-1 relative w-auto",children:1===o.length?(()=>{var e;let t=o[0],n=null!=(e=E.WO[r])?e:E.ct[t],c="".concat(s,"-").concat(r,"-").concat(t),u=U.includes(c);return(0,a.jsxs)("div",{onClick:()=>R(e=>e.includes(c)?e.filter(e=>e!==c):[...e,c]),className:"inline-flex items-center justify-center size-5 rounded-full border cursor-pointer relative",style:{backgroundColor:"hsla(".concat(n,", 0.2)"),borderColor:"hsl(".concat(n,")")},title:t,children:[u?(0,a.jsx)(l.A,{className:"size-4"}):(0,a.jsx)(i.A,{className:"size-4"}),d]})})():(0,a.jsxs)(ed,{children:[(0,a.jsx)(eu,{asChild:!0,children:(0,a.jsxs)("div",{className:"inline-flex items-center justify-center size-5 rounded-full border cursor-pointer bg-muted hover:bg-muted/80 relative",children:[(0,a.jsx)("p",{children:"+"}),d]})}),(0,a.jsx)(em,{className:"p-2 gap-2 inline-flex w-auto",children:o.map(e=>{var t;let o=null!=(t=E.WO[r])?t:E.ct[e],n="".concat(s,"-").concat(r,"-").concat(e),c=U.includes(n);return(0,a.jsxs)("div",{onClick:()=>R(e=>e.includes(n)?e.filter(e=>e!==n):[...e,n]),className:"inline-flex flex-col items-center gap-1 cursor-pointer text-sm px-2 w-[50px]",children:[(0,a.jsx)("div",{className:"size-5 rounded-full border",style:{backgroundColor:"hsla(".concat(o,", 0.2)"),borderColor:"hsl(".concat(o,")")},children:c?(0,a.jsx)(l.A,{className:"size-4 m-auto"}):(0,a.jsx)(i.A,{className:"size-4 m-auto"})}),(0,a.jsx)("p",{children:e})]},e)})})]})})]},r)})})]})),[W,U]),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"absolute bottom-20 left-20 bg-card border p-4 rounded-md z-1",children:t}),(0,a.jsxs)(g,{children:[(0,a.jsx)(f,{style:{left:"50%",position:"absolute",zIndex:2,marginTop:5},className:"left-1/2 absolute z-2 mt-[5px]",children:(0,a.jsx)(n.$,{variant:"secondary",asChild:!0,children:(0,a.jsxs)("div",{children:[(0,a.jsx)(s.A,{className:"mr-2 h-4 w-4"})," Layers"]})})}),(0,a.jsx)(y,{side:"left",children:(0,a.jsx)(w,{className:"h-[90vh]",type:"scroll",children:(0,a.jsxs)(_,{children:[(0,a.jsx)(j,{children:"Layers & Filters"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 p-4 bg-card rounded-2xl shadow-inner max-h-[80vh] overflow-y-auto border",children:Object.entries(G).map(e=>{let[r,t]=e;if(null!=en[r].with)return null;let o=en[r];return(0,a.jsxs)(e_,{children:[(0,a.jsx)(ej,{children:(0,a.jsx)(Q.l,{asChild:!0,defaultPressed:t.visible,onPressedChange:e=>{t.visible=e,Z(G)},pressed:t.visible,className:"flex items-center gap-3 w-full px-3 py-2 rounded-xl border border-[hsl(29,75%,65%)] data-[state=on]:bg-[hsla(29,75%,65%,0.2)] hover:bg-[hsla(29,75%,65%,0.1)] p-5",children:(0,a.jsx)("div",{children:(0,a.jsxs)(er,{className:"size-8",children:[(0,a.jsx)(et,{src:o.icon}),(0,a.jsx)(ea,{children:r.slice(0,2).toUpperCase()})]})})})}),(0,a.jsx)(eC,{className:"bg-card text-primary border",children:(0,a.jsx)("p",{children:o.label})})]},r)})}),(0,a.jsx)(D.w,{className:"my-[15px]"}),(0,a.jsx)("div",{className:"gap-2 flex-col flex w-full",children:ew})]})})})]}),(0,a.jsx)(B.A,{layers:[r,...ey],views:e,initialViewState:{target:[0,0,0],zoom:-10,maxZoom:0,minZoom:-10},onViewStateChange:e=>{let{viewState:r}=e,t=Math.round(r.zoom);x(t),r.zoom=t},style:{height:"100%",width:"100%",position:"fixed",backgroundColor:"transparent",overflow:"hidden"},getTooltip:(0,o.useCallback)(e=>{let{object:r,layer:t}=e;return r&&{html:Y(t,r),style:{backgroundColor:"transparent"}}},[])}),(0,a.jsx)(ek,{})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[690,390,924,277,610,464,874,166,426,441,684,358],()=>r(6572)),_N_E=e.O()}]);