(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[823],{6572:(e,t,a)=>{Promise.resolve().then(a.bind(a,58481))},15785:(e,t,a)=>{"use strict";a.d(t,{l:()=>s});var r=a(95155);a(12115);var o=a(73936),i=a(74466),n=a(59434);let l=(0,i.F)("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}});function s(e){let{className:t,variant:a,size:i,...s}=e;return(0,r.jsx)(o.b,{"data-slot":"toggle",className:(0,n.cn)(l({variant:a,size:i,className:t})),...s})}},22346:(e,t,a)=>{"use strict";a.d(t,{w:()=>n});var r=a(95155);a(12115);var o=a(87489),i=a(59434);function n(e){let{className:t,orientation:a="horizontal",decorative:n=!0,...l}=e;return(0,r.jsx)(o.b,{"data-slot":"separator",decorative:n,orientation:a,className:(0,i.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...l})}},26126:(e,t,a)=>{"use strict";a.d(t,{E:()=>s});var r=a(95155);a(12115);var o=a(99708),i=a(74466),n=a(59434);let l=(0,i.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function s(e){let{className:t,variant:a,asChild:i=!1,...s}=e,c=i?o.DX:"span";return(0,r.jsx)(c,{"data-slot":"badge",className:(0,n.cn)(l({variant:a}),t),...s})}},30285:(e,t,a)=>{"use strict";a.d(t,{$:()=>s});var r=a(95155);a(12115);var o=a(99708),i=a(74466),n=a(59434);let l=(0,i.F)("cursor-pointer inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function s(e){let{className:t,variant:a,size:i,asChild:s=!1,...c}=e,d=s?o.DX:"button";return(0,r.jsx)(d,{"data-slot":"button",className:(0,n.cn)(l({variant:a,size:i,className:t})),...c})}},33856:(e,t,a)=>{"use strict";a.d(t,{CU:()=>i,cy:()=>n,WO:()=>s,Tj:()=>l,kx:()=>o,ct:()=>c});let r=JSON.parse('{"rE":"1.5.0-dev.6","cy":{"name":"Bread-Chan","url":"https://github.com/Bread-Ch4n"},"Jk":{"type":"git","url":"https://github.com/Bread-Ch4n/FRM-s-WebUI-Source.git"}}'),o=!1,i=r.rE,n=r.cy;r.Jk;let l={green:"96,44%,68%",orange:"20,79%,70%",red:"359,68%,71%",blue:"222,74%,74%",white:"227,70%,87%",yellow:"40,62%,73%"},s={BP_WAT2_C:"290,49%,64%",BP_WAT1_C:"347,82%,58%",BP_Crystal_C:"200,61%,42%",BP_Crystal_mk2_C:"26,69%,48%",BP_Crystal_mk3_C:"288,61%,50%"},c={Pure:l.green,Normal:l.orange,Impure:l.red}},39549:(e,t,a)=>{"use strict";a.d(t,{C:()=>i});var r=a(65453),o=a(46786);let i=(0,r.v)()((0,o.Zr)(e=>({baseURL:location.origin,setBaseURL:t=>e({baseURL:t}),fetchSpeed:1e3,setFetchSpeed:t=>e({fetchSpeed:t}),mapFetchSpeed:2500,setMapFetchSpeed:t=>e({mapFetchSpeed:t}),mapUseInGameColors:!1,setMapUseInGameColors:t=>e({mapUseInGameColors:t}),username:"FRM",setUsername:t=>e({username:t}),authToken:"",setAuthToken:t=>e({authToken:t}),_hasHydrated:!1,setHasHydrated:t=>e({_hasHydrated:t})}),{name:"frm-settings",onRehydrateStorage:()=>e=>{null==e||e.setHasHydrated(!0)}}))},58481:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>e0});var r=a(95155),o=a(12115),i=a(5196),n=a(54416),l=a(94498),s=a(71366),c=a(30285),d=a(47655),u=a(59434);function m(e){let{className:t,children:a,...o}=e;return(0,r.jsxs)(d.bL,{"data-slot":"scroll-area",className:(0,u.cn)("relative",t),...o,children:[(0,r.jsx)(d.LM,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:a}),(0,r.jsx)(p,{}),(0,r.jsx)(d.OK,{})]})}function p(e){let{className:t,orientation:a="vertical",...o}=e;return(0,r.jsx)(d.VM,{"data-slot":"scroll-area-scrollbar",orientation:a,className:(0,u.cn)("flex touch-none p-px transition-colors select-none","vertical"===a&&"h-full w-2.5 border-l border-l-transparent","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent",t),...o,children:(0,r.jsx)(d.lr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var g=a(44861),x=a(61946),h=a(80447),f=a(43210),v=a(73213),_=a(10868),b=a(94614),y=a(97345),w=a(85172),C=a(66695),M=a(26126),k=a(45687),j=a(33856),I=a(22346),N=a(71539),S=a(66766);function T(e){let{icon:t,count:a,color:o}=e;return(0,r.jsxs)("div",{className:"size-16 border rounded-md relative overflow-hidden",style:{backgroundColor:"hsla(".concat(o,",0.4)"),color:"hsl(".concat(o,")"),borderColor:"hsl(".concat(o,")")},children:[(0,r.jsx)(S.default,{src:t,alt:"Item Icon",width:56,height:56,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"}),(0,r.jsx)("p",{className:"absolute right-0 bottom-0 text-xs font-semibold border-t border-l bg-card rounded-tl-md px-2",style:{color:"hsl(".concat(o,")"),borderColor:"hsl(".concat(o,")")},children:a})]})}let P="/map/",A="".concat(P,"normal/"),U="".concat(A,"markers/"),D="".concat(A,"stamps/"),R="".concat(A,"MonochromeIcons/"),F="".concat(P,"classnamed/"),B="".concat(P,"utils/"),z="".concat(B,"templates/"),L="".concat(z,"artifacts/"),E="".concat(z,"slugs/"),X="".concat(z,"extra/"),O="".concat(X,"v/"),W="".concat(X,"x/"),H="".concat(X,"misc/"),V={templates:{slugs:{power_slug_mk1:"".concat(E,"power_slug_mk1.avif"),power_slug_mk2:"".concat(E,"power_slug_mk2.avif"),power_slug_mk3:"".concat(E,"power_slug_mk3.avif")},artifacts:{mercer_sphere:"".concat(L,"mercer_sphere.avif"),somersloop:"".concat(L,"somersloop.avif")},creatures:{doggo:"".concat("".concat(z,"creatures/"),"doggo.avif")},extra:{green:"".concat(X,"green.avif"),orange:"".concat(X,"orange.avif"),red:"".concat(X,"red.avif"),yellow:"".concat(X,"yellow.avif"),white:"".concat(X,"white.avif"),v:{green:"".concat(O,"green.avif"),orange:"".concat(O,"orange.avif"),red:"".concat(O,"red.avif")},x:{green:"".concat(W,"green.avif"),orange:"".concat(W,"orange.avif"),red:"".concat(W,"red.avif")},misc:{power:"".concat(H,"power.avif"),pickup:"".concat(H,"pickup.avif"),auto:"".concat(H,"auto.avif"),manual:"".concat(H,"manual.avif"),loading:"".concat(H,"loading.avif"),unloading:"".concat(H,"unloading.avif"),paused:"".concat(H,"paused.avif"),derailed:"".concat(H,"derailed.avif"),parked:"".concat(H,"parked.avif"),out_of_fuel:"".concat(H,"out_of_fuel.avif"),low_fuel:"".concat(H,"low_fuel.avif"),no_route:"".concat(H,"no_route.avif"),no_destination:"".concat(H,"no_destination.avif"),flying:"".concat(H,"flying.avif"),travelling:"".concat(H,"travelling.avif"),ship_returning:"".concat(H,"ship_returning.avif"),no_milestone:"".concat(H,"no_milestone.avif"),upgrade_not_ready:"".concat(H,"upgrade_not_ready.avif"),upgrade_ready:"".concat(H,"upgrade_ready.avif"),customization:"".concat(H,"customization.avif"),open:"".concat(H,"open.avif"),tape:"".concat(H,"tape.avif"),unlock:"".concat(H,"unlock.avif")}},default:"".concat(B,"default.avif")}},G={Artifacts:{Mercer_Sphere:"".concat(F,"BP_WAT2_C.avif"),Somersloop:"".concat(F,"BP_WAT1_C.avif")},Buildings:{Build_Pipeline_MK1:"".concat(F,"Build_Pipeline_C.avif"),Conveyor_Belt_MK1:"".concat(F,"Build_ConveyorBeltMk1_C.avif"),Desc_GeneratorCoal_C:"".concat(F,"Desc_GeneratorCoal_C.avif"),Desc_MinerMk3_C:"".concat(F,"Desc_MinerMk3_C.avif"),Desc_PipeHyper_C:"".concat(F,"Desc_PipeHyper_C.avif")},Creatures:{Space_Rabbit:"".concat(F,"Char_SpaceRabbit_C.avif")},Empty:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",Items:{Power_Shard:"".concat("".concat(A,"items/"),"/Power_Shard.avif")},Markers:{Beacon:"".concat(U,"beacon.avif"),Crate_Death:"".concat(U,"crate_death.avif"),Crate_Loot:"".concat(U,"crate_loot.avif"),Drone:"".concat(U,"drone.avif"),Drone_Station:"".concat(U,"drone_station.avif"),Drop_Pod:"".concat(U,"drop_pod.avif"),Explorer:"".concat(U,"explorer.avif"),Factory_Cart:"".concat(U,"factory_cart.avif"),Hub:"".concat(U,"hub.avif"),Player:"".concat(U,"player.avif"),Player_Dead:"".concat(U,"player_dead.avif"),Player_Offline:"".concat(U,"player_offline.avif"),Portal:"".concat(U,"portal.avif"),Portal_Satellite:"".concat(U,"portal_satellite.avif"),Power:"".concat(U,"power.avif"),Question_Mark:"".concat(U,"question_mark.avif"),Radar_Tower:"".concat(U,"radar_tower.avif"),Radiation:"".concat(U,"radiation.avif"),Recycle:"".concat(U,"recycle.avif"),Space_Elevator:"".concat(U,"space_elevator.avif"),Tape:"".concat(U,"tape.avif"),Tractor:"".concat(U,"tractor.avif"),Train:"".concat(U,"train.avif"),Train_Station:"".concat(U,"train_station.avif"),Truck:"".concat(U,"truck.avif"),Truck_Station:"".concat(U,"truck_station.avif"),Vehicle_Receive:"".concat(U,"vehicle_receive.avif"),Vehicle_Sending:"".concat(U,"vehicle_sending.avif")},MonochromeIcons:{Aggro:"".concat(R,"TXUI_MIcon_Aggro.avif"),Arrow_Down:"".concat(R,"TXUI_MIcon_Arrow_Down.avif"),Arrow_DownLeft:"".concat(R,"TXUI_MIcon_Arrow_DownLeft.avif"),Arrow_DownRight:"".concat(R,"TXUI_MIcon_Arrow_DownRight.avif"),Arrow_Left:"".concat(R,"TXUI_MIcon_Arrow_Left.avif"),Arrow_Right:"".concat(R,"TXUI_MIcon_Arrow_Right.avif"),Arrow_Up:"".concat(R,"TXUI_MIcon_Arrow_Up.avif"),Arrow_UpLeft:"".concat(R,"TXUI_MIcon_Arrow_UpLeft.avif"),Arrow_UpRight:"".concat(R,"TXUI_MIcon_Arrow_UpRight.avif"),Check:"".concat(R,"TXUI_IndicatorPanel_Check.avif"),Cogwheel:"".concat(R,"TXUI_MIcon_Cogwheel.avif"),Crate:"".concat(R,"TXUI_MIcon_Crate.avif"),Drone:"".concat(R,"TXUI_MIcon_Drone.avif"),Drop:"".concat(R,"TXUI_MIcon_Drop.avif"),Exit:"".concat(R,"TXUI_MIcon_Exit.avif"),Exlamation_Mark:"".concat(R,"TXUI_MIcon_ExlamationMark.avif"),Explorer:"".concat(R,"TXUI_MIcon_Explorer.avif"),Factory:"".concat(R,"TXUI_MIcon_Factory.avif"),Factory_Cart:"".concat(R,"TXUI_MIcon_FactoryCart.avif"),Home:"".concat(R,"TXUI_MIcon_Home.avif"),Loop:"".concat(R,"TXUI_MIcon_Loop.avif"),Next:"".concat(R,"TXUI_MIcon_Next.avif"),Pause:"".concat(R,"TXUI_MIcon_Pause.avif"),Pioneer:"".concat(R,"TXUI_MIcon_Pioneer.avif"),Play:"".concat(R,"TXUI_MIcon_Play.avif"),Portal:"".concat(R,"TXUI_MIcon_Portal.avif"),Portal_Satellite:"".concat(R,"TXUI_MIcon_PortalSatellite.avif"),Power:"".concat(R,"TXUI_MIcon_Power.avif"),Previous:"".concat(R,"TXUI_MIcon_Previous.avif"),Question_Mark:"".concat(R,"TXUI_MIcon_QuestionMark.avif"),Radiation:"".concat(R,"TXUI_MIcon_Radiation.avif"),Recycle:"".concat(R,"TXUI_MIcon_Recycle.avif"),Resize_Width:"".concat(R,"TXUI_MIcon_ResizeWidth.avif"),RoadArrow_Down:"".concat(R,"TXUI_MIcon_RoadArrow_Down.avif"),RoadArrow_TurnAround:"".concat(R,"TXUI_MIcon_RoadArrow_TurnAround.avif"),RoadArrow_TurnLeft:"".concat(R,"TXUI_MIcon_RoadArrow_TurnLeft.avif"),RoadArrow_TurnRight:"".concat(R,"TXUI_MIcon_RoadArrow_TurnRight.avif"),RoadArrow_Up:"".concat(R,"TXUI_MIcon_RoadArrow_Up.avif"),Small_Tape:"".concat(R,"TXUI_MIcon_SmallTape.avif"),SortRule_Any:"".concat(R,"TXUI_MIcon_SortRule_Any.avif"),SortRule_AnyUndefined:"".concat(R,"TXUI_MIcon_SortRule_AnyUndefined.avif"),SortRule_Overflow:"".concat(R,"TXUI_MIcon_SortRule_Overflow.avif"),Speedometer:"".concat(R,"TXUI_MIcon_Speedometer.avif"),Stop_X:"".concat(R,"TXUI_MIcon_Stop_X.avif"),ThumbDown:"".concat(R,"TXUI_MIcon_ThumbDown.avif"),ThumbUp:"".concat(R,"TXUI_MIcon_ThumbUp.avif"),Tractor:"".concat(R,"TXUI_MIcon_Tractor.avif"),Train:"".concat(R,"TXUI_MIcon_Train.avif"),Trash:"".concat(R,"TXUI_MIcon_Trash.avif"),Truck:"".concat(R,"TXUI_MIcon_Truck.avif"),VolDown:"".concat(R,"TXUI_MIcon_VolDown.avif"),VolUp:"".concat(R,"TXUI_MIcon_VolUp.avif"),Warning:"".concat(R,"TXUI_MIcon_Warning.avif")},Patterns:{PatternDesc_Icon_Factory_C:"".concat(F,"PatternDesc_Icon_Factory_C.avif")},Slugs:{MK1:"".concat(F,"BP_Crystal_C.avif"),MK2:"".concat(F,"BP_Crystal_mk2_C.avif"),MK3:"".concat(F,"BP_Crystal_mk3_C.avif")},Stamps:{Biomass:"".concat(D,"TXUI_Biomass_Map.avif"),Cave:"".concat(D,"TXUI_Cave_Map.avif"),Crash:"".concat(D,"TXUI_Crash_Map.avif"),Crate:"".concat(D,"TXUI_Crate_Map.avif"),Creature:"".concat(D,"TXUI_Creature_Map.avif"),Fluids:"".concat(D,"TXUI_Fluids_Map.avif"),Fruit:"".concat(D,"TXUI_Berries_Map.avif"),Mark:"".concat(D,"TXUI_EMark_Map.avif"),"Question Mark":"".concat(D,"TXUI_QMark_Map.avif"),Radiation:"".concat(D,"TXUI_Radiation_Map.avif"),Rock:"".concat(D,"TXUI_Rock_Map.avif"),Slug:"".concat(D,"TXUI_Slug_Map.avif"),Warning:"".concat(D,"TXUI_Warning_Map.avif")},Utils:{Lock:"".concat(B,"lock.avif"),Rotation:"".concat(B,"rotation.avif")}};function K(e){var t,a;let{data:o}=e,i=null!=(t=o.Somersloops)?t:0,n=null!=(a=o.PowerShards)?a:0;return 0===i&&0===n?null:(0,r.jsxs)("div",{className:"inline-flex gap-1 items-center justify-center w-full mt-2",children:[i>0&&(0,r.jsx)(T,{icon:G.Artifacts.Somersloop,count:i,color:"347,82%,58%"}),n>0&&(0,r.jsx)(T,{icon:G.Items.Power_Shard,count:n,color:"26,69%,48%"})]})}var Z=function(e){return e.MercerSphere="BP_WAT2_C",e.Somersloop="BP_WAT1_C",e}(Z||{});function Q(e,t,a){let r=!(arguments.length>3)||void 0===arguments[3]||arguments[3],o=function(e){try{var t,a;return+(null!=(a=null==(t=e.match(/Mk[., ](\d+)/))?void 0:t[1])?a:NaN)}catch(e){return NaN}}(e);return isNaN(o)?[198,208,245]:Y(t,a,.85,r)[o-1]}function q(e){let[t,a,r]=e;return"".concat(Math.round(t),"deg, ").concat(Math.round(a),"%, ").concat(Math.round(r),"%")}function Y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.85,r=!(arguments.length>3)||void 0===arguments[3]||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"rgb";if("hsl"===o){let[o,i,n]=function(e){if(Array.isArray(e))return e;let t=e.replace(/deg/g,"").replace(/%/g,"").split(",").map(e=>Number(e.trim()));if(3!==t.length)throw Error("Invalid HSL input");return[t[0],t[1],t[2]]}(e),l=[q([o,i,n])];for(let e=0;e<t;e++)l.push(q([o,i,n=r?Math.max(0,n*a):Math.min(100,n/a)]));return l}{let[o,i,n]=e,l=[[o,i,n]];for(let e=0;e<t;e++)r?(o=Math.max(0,Math.floor(o*a)),i=Math.max(0,Math.floor(i*a)),n=Math.max(0,Math.floor(n*a))):(o=Math.min(255,Math.floor(1/a*o)),i=Math.min(255,Math.floor(1/a*i)),n=Math.min(255,Math.floor(1/a*n))),l.push([o,i,n]);return l}}function J(e){let[t,a,r]=e,o=Math.max(t/=255,a/=255,r/=255),i=Math.min(t,a,r),n,l,s=(o+i)/2;if(o===i)n=l=0;else{let e=o-i;switch(l=s>.5?e/(2-o-i):e/(o+i),o){case t:n=(a-r)/e+6*(a<r);break;case a:n=(r-t)/e+2;break;case r:n=(t-a)/e+4}n/=6}return[Math.round(360*n),Math.round(100*l),Math.round(100*s)]}function $(e){return"#".concat(e.replace(/^#/,"").substring(0,6))}function ee(e){let t=e.replace(/^#/,""),a=3===t.length?t.split("").map(e=>e+e).join(""):t,r=parseInt(a.substring(0,2),16);return[r,parseInt(a.substring(2,4),16),parseInt(a.substring(4,6),16)]}let et=e=>new Promise((t,a)=>{let r=new Image;r.crossOrigin="anonymous",r.onload=()=>t(r),r.onerror=a,r.src=e}),ea=async function(e,t,a){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:55,o=document.createElement("canvas");o.width=70,o.height=70;let i=o.getContext("2d");if(!i)return;let[n,l,s]=await Promise.all([et(e),et(t),et(a)]);i.drawImage(n,0,0,70,70);let c=(o.width-r)/2,d=(o.height-r)/2;return i.drawImage(l,c,d,r,r),i.drawImage(s,40,40,30,30),o.toDataURL("image/png")},er=async(e,t)=>{let a=document.createElement("canvas");a.width=70,a.height=70;let r=a.getContext("2d");if(!r)return;let[o,i]=await Promise.all([et(e),et(t)]);r.drawImage(o,0,0,70,70);let n=(a.width-55)/2,l=(a.height-55)/2;return r.drawImage(i,n,l,55,55),a.toDataURL("image/png")};var eo=a(39881),ei=a(92138),en=a(35169);let el=e=>{let{bool:t,text:a,removeIcons:o}=e;return(0,r.jsxs)(M.E,{style:{backgroundColor:"hsla(".concat(t?j.Tj.green:j.Tj.red,", 0.2)"),borderColor:"hsl(".concat(t?j.Tj.green:j.Tj.red,")"),color:"hsl(".concat(t?j.Tj.green:j.Tj.red,")")},className:"w-full justify-center items-center border relative inline-flex",variant:"outline",children:[!0!=o&&(t?(0,r.jsx)(i.A,{className:"size-4 absolute left-[5px]"}):(0,r.jsx)(n.A,{className:"size-4 absolute left-[5px]"})),a]})},es=(e,t)=>{let a=e.id,o={title:"",description:(0,r.jsx)(r.Fragment,{})},l="229deg,13%,52%",s=l,c=l;switch(a){case"players":{let e=function(e){let t=e.Dead?j.Tj.orange:e.Online?j.Tj.green:j.Tj.red;return{popup:{title:"Player: ".concat(e.Name||"Offline")},popup_color:t}}(t);o.title=e.popup.title,l=e.popup_color;break}case"vehicles":o=function(e){return{popup:{title:e.Name,description:(0,r.jsxs)("div",{children:[(0,r.jsxs)("ul",{className:"ml-6 list-disc [&>li]:mt-2",children:[(0,r.jsxs)("li",{children:["Current Gear: ",e.CurrentGear]}),(0,r.jsxs)("li",{children:["Forward Speed: ",e.ForwardSpeed]}),(0,r.jsxs)("li",{children:["Engine RPM: ",e.EngineRPM]}),(0,r.jsxs)("li",{children:["Throttle Percent: ",e.ThrottlePercent]}),(0,r.jsxs)("li",{children:["Path Name: ",e.PathName]})]}),(0,r.jsx)(I.w,{className:"my-2 bg-white"}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)(el,{bool:e.FollowingPath,text:"Following Path"}),(0,r.jsx)(el,{bool:e.Autopilot,text:"Autopilot"})]})]})}}}(t).popup;break;case"truck_station":o=({popup:{title:t.Name,description:(0,r.jsx)("div",{children:(0,r.jsx)("p",{children:"LoadMode: WIP"})})}}).popup;break;case"drone":o=function(e){return{popup:{title:e.Name,description:(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{children:["Destination: ",e.CurrentDestination]}),(0,r.jsxs)("p",{children:["Flying Speed: ",Math.round(e.FlyingSpeed)]}),(0,r.jsx)(el,{bool:Math.round(e.FlyingSpeed)>0,text:"Flying"})]})}}}(t).popup;break;case"drone_station":o=function(e){return{popup:{title:e.Name,description:(0,r.jsxs)("p",{children:[" Paired Station: ",e.PairedStation]})}}}(t).popup;break;case"train":o=function(e){return{popup:{title:e.Name,description:(0,r.jsxs)("div",{children:[(0,r.jsxs)("ul",{className:"my-2 ml-6 list-disc [&>li]:mt-2",children:[(0,r.jsxs)("li",{children:["Speed: ",e.ForwardSpeed]}),(0,r.jsxs)("li",{children:["Train Station: ",e.TrainStation]})]}),(0,r.jsx)(el,{bool:e.Derailed,text:"Derailed"})]})}}}(t).popup;break;case"train_station":o=function(e){return{popup:{title:e.Name,description:(0,r.jsx)("div",{children:(0,r.jsxs)("ul",{className:"my-2 ml-6 list-disc [&>li]:mt-2",children:[(0,r.jsxs)("li",{children:["Transfer Rate: ",e.TransferRate]}),(0,r.jsxs)("li",{children:["Inflow rate: ",e.InflowRate]}),(0,r.jsxs)("li",{children:["Outflow rate: ",e.OutflowRate]})]})})}}}(t).popup;break;case"radio_tower":{let e={popup:{title:t.Name}};o.title=e.popup.title;break}case"slugs":{let e=function(e){var t;let a=null!=(t=j.WO[e.ClassName])?t:"229deg,13%,52%";return{popup:{title:(0,r.jsxs)("div",{children:[{BP_Crystal_C:"MK1",BP_Crystal_mk2_C:"MK2",BP_Crystal_mk3_C:"MK3"}[e.ClassName]," Power Slug"]})},popup_color:a}}(t);o.title=e.popup.title,l=e.popup_color;break}case"space_elevator":{let e=function(e){let t=e.FullyUpgraded?j.Tj.green:j.Tj.red,a=e.UpgradeReady?j.Tj.green:j.Tj.red,o=e.FullyUpgraded||e.UpgradeReady?j.Tj.green:j.Tj.red;return{popup:{title:e.Name,description:(0,r.jsxs)("div",{children:[(0,r.jsx)("ul",{className:"ml-6 list-disc [&>li]:mt-2",children:e.CurrentPhase.map(t=>(0,r.jsxs)("li",{children:[t.Name," ",t.Amount,"/",t.TotalCost]},t.ClassName+e.ID))}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsxs)(M.E,{style:{backgroundColor:"hsla(".concat(t,", 0.2)"),borderColor:"hsl(".concat(t,")"),color:"hsl(".concat(t,")"),display:"flex",alignItems:"center",justifyContent:"center"},className:"w-full justify-center border relative inline-flex",variant:"outline",children:[e.FullyUpgraded?(0,r.jsx)(i.A,{className:"size-4 absolute left-[5px]"}):(0,r.jsx)(n.A,{className:"size-4 absolute left-[5px]"}),e.FullyUpgraded?"Fully Upgraded \uD83C\uDF89":"Not Fully Upgraded"]}),(0,r.jsxs)(M.E,{style:{backgroundColor:"hsla(".concat(a,", 0.2)"),borderColor:"hsl(".concat(a,")"),color:"hsl(".concat(a,")"),display:"flex",alignItems:"center",justifyContent:"center"},className:"w-full justify-center border relative inline-flex",variant:"outline",children:[e.UpgradeReady?(0,r.jsx)(i.A,{className:"size-4 absolute left-[5px]"}):(0,r.jsx)(n.A,{className:"size-4 absolute left-[5px]"}),e.UpgradeReady?"Upgrade Ready":"Upgrade Not Ready"]})]})]})},popup_color:o}}(t);o=e.popup,l=e.popup_color;break}case"drop_pod":{let e=function(e){let t=e.Opened,a=e.Looted,o=0!==e.RequiredPower,i=t?a?j.Tj.green:j.Tj.white:o?j.Tj.yellow:j.Tj.red;return{popup:{title:"Drop Pod",description:(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[!t&&!o&&"N/A"!=e.RequiredItem.Name&&(0,r.jsx)(M.E,{style:{backgroundColor:"hsla(".concat(i,", 0.2)"),borderColor:"hsl(".concat(i,")"),color:"hsl(".concat(i,")")},className:"w-full justify-center border relative mt-1",variant:"outline",children:"".concat(e.RequiredItem.Name," ").concat(e.RequiredItem.Amount)}),!t&&o&&(0,r.jsxs)(M.E,{style:{backgroundColor:"hsla(40deg, 62%, 73%, 0.2)",borderColor:"hsl(40deg, 62%, 73%)",color:"hsl(40deg, 62%, 73%)",display:"flex",alignItems:"center",justifyContent:"center"},className:"w-full justify-center border relative",variant:"outline",children:[(0,r.jsx)(N.A,{className:"absolute left-[5px]"}),e.RequiredPower," MW"]}),(0,r.jsx)(el,{bool:a,text:e.Looted?"Looted":"Not Looted"}),(0,r.jsx)(el,{bool:t,text:e.Opened?"Open":"Not Open"})]})})},popup_color:i}}(t);o=e.popup,l=e.popup_color;break}case"resource_node":{let e=function(e){let t=j.ct[e.Purity];return{popup:{title:"".concat(e.Name," Resource Node"),description:(0,r.jsxs)("div",{children:[(0,r.jsx)(M.E,{style:{backgroundColor:"hsla(".concat(t,", 0.2)"),borderColor:"hsl(".concat(t,")"),color:"hsl(".concat(t,")"),display:"flex",alignItems:"center",justifyContent:"center"},className:"w-full justify-center border relative inline-flex",variant:"outline",children:e.Purity}),(0,r.jsx)(el,{bool:e.Exploited,text:"Exploited"})]})},popup_color:t}}(t);o=e.popup,l=e.popup_color;break}case"factory":o=function(e){return{popup:{title:e.Name,description:(0,r.jsxs)("div",{children:[(0,r.jsxs)("ul",{className:"my-2 ml-6 list-disc [&>li]:mt-2",children:[(0,r.jsxs)("li",{children:["Recipe: ",e.Recipe]}),(0,r.jsxs)("li",{children:["Clock Speed: ",Math.round(100*e.ManuSpeed)/100,"%"]}),(0,r.jsxs)("li",{children:["Productivity: ",Math.round(100*e.Productivity)/100,"%"]})]}),(0,r.jsxs)("div",{className:"gap-1 flex flex-col",children:[(0,r.jsx)(el,{bool:-1!==e.PowerInfo.CircuitGroupID,text:"Circuit Group: ".concat(-1===e.PowerInfo.CircuitGroupID?"Disconnected":e.PowerInfo.CircuitGroupID),removeIcons:!0}),(0,r.jsx)(el,{bool:-1!==e.PowerInfo.CircuitGroupID,text:"Circuit: ".concat(-1===e.PowerInfo.CircuitGroupID?"Disconnected":e.PowerInfo.CircuitID),removeIcons:!0}),(0,r.jsx)(el,{bool:e.IsConfigured,text:"Configured"}),(0,r.jsx)(el,{bool:e.IsProducing,text:"Producing"}),(0,r.jsx)(el,{bool:e.IsPaused,text:"Paused"})]}),(0,r.jsx)(K,{data:e})]})}}}(t).popup;break;case"generators":o=function(e){return{popup:{title:e.Name,description:(0,r.jsxs)("div",{children:[(0,r.jsxs)("ul",{className:"my-2 ml-6 list-disc [&>li]:mt-2",children:[(0,r.jsxs)("li",{children:["Base Prod: ",e.BaseProd,"MW"]}),(0,r.jsxs)("li",{children:["Fuel Amount: ",e.FuelAmount]})]}),(0,r.jsxs)("div",{className:"gap-1 flex flex-col",children:[(0,r.jsx)(el,{bool:e.IsFullSpeed,text:"Is Full Speed"}),(0,r.jsx)(el,{bool:e.CanStart,text:"Can Start"})]}),(0,r.jsx)(K,{data:e})]})}}}(t).popup;break;case"hub":o=function(e){return{popup:{title:e.Name,description:(0,r.jsxs)("div",{children:[(0,r.jsxs)("ul",{className:"my-2 ml-6 list-disc [&>li]:mt-2",children:[(0,r.jsxs)("li",{children:["Current Active Schematic: ",e.SchNam]}),(0,r.jsxs)("li",{children:["Time till Drone Ship returns: ",e.ShipReturn]})]}),(0,r.jsx)("div",{className:"gap-1 flex flex-col",children:(0,r.jsx)(el,{bool:e.ShipDock,text:"Is Drone Ship in HUB"})})]})}}}(t).popup;break;case"artifacts":{let e=function(e){let t=e.ClassName===Z.Somersloop?"347,82%,58%":"290,49%,64%";return{popup:{title:e.Name},popup_color:t}}(t);o.title=e.popup.title,l=e.popup_color;break}case"belts":{let a=function(e,t){let a=J(t.props.getColor(e)),o=J([153,209,219]),i="".concat(a[0],",").concat(a[1],"%,").concat(a[2],"%"),n="".concat(o[0],",").concat(o[1],"%,").concat(o[2],"%");return{popup:{title:e.Name,description:(0,r.jsx)("ul",{className:"my-2 ml-6 list-disc [&>li]:mt-2",children:(0,r.jsxs)("li",{children:["Items Per Minute: ",e.ItemsPerMinute]})})},popup_color:i,text_color:n}}(t,e);o=a.popup,l=a.popup_color,c=a.text_color;break}case"splitter_merger":{let e=function(e){var t;let a=J(Y([153,209,219],5)[null!=(t=["Build_ConveyorAttachmentMerger_C","Build_ConveyorAttachmentSplitter_C","Build_ConveyorAttachmentMergerPriority_C","Build_ConveyorAttachmentSplitterSmart_C","Build_ConveyorAttachmentSplitterProgrammable_C"].indexOf(e.ClassName))?t:5]),o=J([153,209,219]),i="".concat(a[0],",").concat(a[1],"%,").concat(a[2],"%"),n="".concat(o[0],",").concat(o[1],"%,").concat(o[2],"%"),l="size-5 text-[hsl(96,44%,68%)]",s="size-5 text-[hsl(359,68%,71%)]",c="size-5 invisible",d=e.ClassName.includes("Merger");return{popup:{title:e.Name,description:(0,r.jsx)("div",{className:"w-full h-20 flex items-center justify-center mt-2",children:(0,r.jsx)("div",{className:"flex items-center justify-center size-20 border rounded-full p-2 relative before:bg-card before:inset-0 before:absolute before:rounded-full before:z-[-1]",style:{backgroundColor:"hsla(".concat(n,",0.5)"),borderColor:"hsl(".concat(n,")")},children:(0,r.jsxs)("div",{className:"grid grid-cols-3 grid-rows-3 gap-1",style:{transform:"rotate(".concat(e.location.rotation,"deg)"),transformOrigin:"center"},children:[(0,r.jsx)("div",{className:c}),(0,r.jsx)(eo.A,{className:s}),(0,r.jsx)("div",{className:c}),d?(0,r.jsx)(ei.A,{className:l}):(0,r.jsx)(en.A,{className:s}),(0,r.jsx)("div",{className:c}),d?(0,r.jsx)(en.A,{className:l}):(0,r.jsx)(ei.A,{className:s}),(0,r.jsx)("div",{className:c}),(0,r.jsx)(eo.A,{className:l}),(0,r.jsx)("div",{className:c})]})})})},popup_color:i,text_color:n}}(t);o=e.popup,l=e.popup_color,c=e.text_color;break}case"pipes":{let a=function(e,t){let a=J(t.props.getColor(e)),o=J(Q(e.Name,[255,204,153],1)),i="".concat(a[0],",").concat(a[1],"%,").concat(a[2],"%"),n="".concat(o[0],",").concat(o[1],"%,").concat(o[2],"%");return{popup:{title:e.Name,description:(0,r.jsx)("ul",{className:"my-2 ml-6 list-disc [&>li]:mt-2",children:(0,r.jsxs)("li",{children:["Speed: ",e.Speed]})})},popup_color:i,text_color:n}}(t,e);o=a.popup,l=a.popup_color,c=a.text_color;break}case"pipe_junctions":{let e=function(e){let t=J([255,204,153]),a="".concat(t[0],",").concat(t[1],"%,").concat(t[2],"%"),r="".concat(t[0],",").concat(t[1],"%,").concat(t[2],"%");return{popup:{title:e.Name},popup_color:a,text_color:r}}(t);o.title=e.popup.title,l=e.popup_color,c=e.text_color;break}case"storage_inv":o=function(e){return{popup:{title:e.Name,description:(0,r.jsx)("ul",{className:"my-2 ml-6 list-disc [&>li]:mt-2",children:e.Inventory.map(e=>(0,r.jsxs)("li",{children:[e.Name," - ",e.Amount]},e.Name+e.ClassName+e.Amount))})}}}(t).popup;break;case"lizard_doggos":o=function(e){return{popup:{title:e.Name,description:(0,r.jsx)("ul",{className:"my-2 ml-6 list-disc [&>li]:mt-2",children:e.Inventory.map(e=>(0,r.jsxs)("li",{children:[e.Name," - ",e.Amount]},e.Name+e.ClassName+e.Amount))})}}}(t).popup;break;case"unlock_items":o=function(e){return{popup:{title:"Player Customization"==e.features.properties.type?"Player Customization":"Cassette Tape"==e.features.properties.type?e.features.properties.name:"Unlock Item",description:(0,r.jsx)("ul",{className:"my-2 ml-6 list-disc [&>li]:mt-2",children:e.Unlocks.map(e=>(0,r.jsx)("li",{children:e.Name},e.Name))})}}}(t).popup;break;case"extractors":o=function(e){return{popup:{title:e.ClassName.startsWith("Build_MinerMk")?"".concat(e.Name," - ").concat(e.Recipe):e.Name,description:(0,r.jsxs)("div",{children:[(0,r.jsx)("ul",{className:"my-2 ml-6 list-disc [&>li]:mt-2",children:(0,r.jsxs)("li",{children:["Clock Speed: ",Math.round(100*e.ManuSpeed)/100,"%"]})}),(0,r.jsxs)("div",{className:"gap-1 flex flex-col",children:[(0,r.jsx)(el,{bool:-1!==e.PowerInfo.CircuitGroupID,text:"Circuit Group: ".concat(-1===e.PowerInfo.CircuitGroupID?"Disconnected":e.PowerInfo.CircuitGroupID),removeIcons:!0}),(0,r.jsx)(el,{bool:-1!==e.PowerInfo.CircuitGroupID,text:"Circuit: ".concat(-1===e.PowerInfo.CircuitGroupID?"Disconnected":e.PowerInfo.CircuitID),removeIcons:!0}),(0,r.jsx)(el,{bool:e.IsConfigured,text:"Configured"}),(0,r.jsx)(el,{bool:e.IsProducing,text:"Producing"}),(0,r.jsx)(el,{bool:e.IsPaused,text:"Paused"})]}),(0,r.jsx)(K,{data:e})]})}}}(t).popup;break;case"map_markers":{let e=function(e){return{popup:{title:e.Category?"".concat(e.Name," - ").concat(e.Category):e.Name}}}(t);o.title=e.popup.title;break}default:var d,u;o={title:null!=(u=null!=(d=t.Name)?d:t.ClassName)?u:"Unknown",description:"ID: ".concat(t.ID)}}return s==c&&c!=l&&(c=l),(0,k.F0)((0,r.jsxs)(C.Zp,{className:"relative backdrop-blur-md bg-card border overflow-hidden",style:{borderColor:"hsl(".concat(l,")"),color:"hsl(".concat(c,")")},children:[(0,r.jsx)("div",{className:"absolute inset-0 pointer-events-none rounded-inherit",style:{backgroundColor:"hsla(".concat(l,", 0.4)"),zIndex:0}}),(0,r.jsx)("div",{className:"relative z-10",children:(0,r.jsxs)(C.Wu,{children:[(0,r.jsx)(M.E,{className:"w-full justify-center items-center border relative inline-flex text-xl py-1 mb-1",style:{backgroundColor:"hsla(".concat(c,",0.2)"),borderColor:"hsl(".concat(c,")"),color:"hsl(".concat(c,")")},variant:"outline",children:"string"==typeof o.title?(0,r.jsx)(C.ZB,{children:o.title}):o.title}),"string"==typeof o.description?(0,r.jsx)(C.BT,{children:o.description}):o.description,j.kx&&(0,r.jsx)(C.BT,{children:t.ClassName}),j.kx&&(0,r.jsx)(C.BT,{children:a}),j.kx&&(0,r.jsxs)(C.BT,{children:[(0,r.jsxs)("p",{children:["X: ",t.location.x]}),(0,r.jsxs)("p",{children:["Y: ",t.location.y]}),(0,r.jsxs)("p",{children:["Z: ",t.location.z]}),t.location.rotation&&(0,r.jsxs)("p",{children:["Rotation: ",t.location.rotation]})]})]})})]}))};var ec=a(15785),ed=a(54011);function eu(e){let{className:t,...a}=e;return(0,r.jsx)(ed.bL,{"data-slot":"avatar",className:(0,u.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...a})}function em(e){let{className:t,...a}=e;return(0,r.jsx)(ed._V,{"data-slot":"avatar-image",className:(0,u.cn)("aspect-square size-full",t),...a})}function ep(e){let{className:t,...a}=e;return(0,r.jsx)(ed.H4,{"data-slot":"avatar-fallback",className:(0,u.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...a})}function eg(e,t,a){let[r,o]=e,[i,n]=t,l=r-i,s=o-n,c=Math.cos(a),d=Math.sin(a);return[i+l*c-s*d,n+l*d+s*c]}function ex(e,t,a){let[r,o]=e,[i,n]=t;return[i+(r-i)*a,n+(o-n)*a]}function eh(e){return e*Math.PI/180}function ef(e){let{BoundingBox:t,location:a}=e,r=-a.rotation%360,o=[[t.min.x,-1*t.min.y],[t.max.x,-1*t.min.y],[t.max.x,-1*t.max.y],[t.min.x,-1*t.max.y]],i=[a.x,-1*a.y],n=eh(r+90);return o.map(e=>eg(e,i,n))}let ev={artifacts:{icon:G.Artifacts.Somersloop,id:"artifacts",label:"Artifacts",url:"/getArtifacts",visible:!1},map_markers:{icon:G.Stamps.Mark,id:"map_markers",label:"Map Markers",url:"/getMapMarkers",visible:!0},belts:{icon:G.Buildings.Conveyor_Belt_MK1,id:"belts",label:"Belts",url:"/getBelts",visible:!0},belt_lifts:{icon:G.Buildings.Conveyor_Belt_MK1,id:"belt_lifts",label:"Belt Lifts",url:"/getLifts",with:"belts",visible:!0},splitter_merger:{icon:G.Buildings.Conveyor_Belt_MK1,id:"splitter_merger",label:"Splitter & Merger",url:"/getSplitterMerger",with:"belts",visible:!0},cables:{icon:G.Markers.Power,id:"cables",label:"Cables",url:"/getCables",visible:!0},drone:{icon:G.Markers.Drone,id:"drone",label:"Drones",url:"/getDrone",visible:!0},drone_station:{icon:G.Markers.Drone_Station,id:"drone_station",label:"Drone Stations",url:"/getDroneStation",visible:!0,with:"drone"},drop_pod:{icon:G.Markers.Drop_Pod,id:"drop_pod",label:"Drop Pods",url:"/getDropPod",visible:!1},factory:{icon:G.Patterns.PatternDesc_Icon_Factory_C,id:"factory",label:"Factory",url:"/getFactory",visible:!0},generators:{icon:G.Markers.Power,id:"generators",label:"Power Generators",url:"/getGenerators",visible:!0},hub:{icon:G.Markers.Hub,id:"hub",label:"Hubs",url:"/getHUBTerminal",visible:!0},pipes:{icon:G.Buildings.Build_Pipeline_MK1,id:"pipes",label:"Pipes",url:"/getPipes",visible:!0},pipe_junctions:{icon:G.Buildings.Build_Pipeline_MK1,id:"pipe_junctions",label:"Pipe Junctions",url:"/getPipeJunctions",visible:!0,with:"pipes"},hypertubes:{icon:G.Buildings.Desc_PipeHyper_C,id:"hypertubes",label:"Hypertubes",url:"/getHypertube",visible:!0},hypertube_entrances:{icon:G.Buildings.Desc_PipeHyper_C,id:"hypertube_entrances",label:"Hypertube Entrances",url:"/getHyperEntrance",visible:!0,with:"hypertubes"},hypertube_junctions:{icon:G.Buildings.Desc_PipeHyper_C,id:"hypertube_junctions",label:"Hypertube Junctions",url:"/getHyperJunctions",visible:!0,with:"hypertubes"},players:{icon:G.Markers.Player,id:"players",label:"Players",url:"/getPlayer",visible:!0},radar:{icon:G.Markers.Radar_Tower,id:"radio_tower",label:"Radar Towers",url:"/getRadarTower",visible:!0},resource_node:{icon:"".concat(F,"Desc_OreIron_C.avif"),id:"resource_node",label:"Resource Node",url:"/getResourceNode",visible:!1},slugs:{icon:G.Slugs.MK1,id:"slugs",label:"Slug",url:"/getPowerSlug",visible:!1},space_elevator:{icon:G.Markers.Space_Elevator,id:"space_elevator",label:"Space Elevator",url:"/getSpaceElevator",visible:!0},storage_inv:{icon:G.Markers.Crate_Loot,id:"storage_inv",label:"Storage Inv",url:"/getStorageInv",visible:!0},train:{icon:G.Markers.Train,id:"train",label:"Trains",url:"/getTrains",visible:!0},train_station:{icon:G.Markers.Train_Station,id:"train_station",label:"Train Stations",url:"/getTrainStation",visible:!0,with:"train"},truck_station:{icon:G.Markers.Truck_Station,id:"truck_station",label:"Truck Stations",url:"/getTruckStation",visible:!0,with:"vehicles"},vehicles:{icon:G.Markers.Explorer,id:"vehicles",label:"Vehicles",url:"/getVehicles",visible:!0},train_rails:{icon:G.Markers.Train,id:"train_rails",label:"Train Rails",url:"/getTrainRails",visible:!0,with:"train"},switches:{icon:G.Markers.Power,id:"switches",label:"Switches",url:"/getSwitches",visible:!0},extractors:{icon:G.Buildings.Desc_MinerMk3_C,id:"extractors",label:"Extractors",url:"/getExtractor",visible:!0},fracking_activators:{icon:G.Buildings.Desc_MinerMk3_C,id:"fracking_activators",label:"Fracking Activators",url:"/getFrackingActivator",visible:!0,with:"extractors"},lizard_doggos:{icon:G.Creatures.Space_Rabbit,id:"lizard_doggos",label:"Lizard Doggos",url:"/getDoggo",visible:!1},portals:{icon:G.Markers.Portal,id:"portals",label:"Portals",url:"/getPortal",visible:!0},unlock_items:{icon:G.Markers.Tape,id:"unlock_items",label:"Unlock Items",url:"/getUnlockItems",visible:!0}};var e_=a(20547);function eb(e){let{...t}=e;return(0,r.jsx)(e_.bL,{"data-slot":"popover",...t})}function ey(e){let{...t}=e;return(0,r.jsx)(e_.l9,{"data-slot":"popover-trigger",...t})}function ew(e){let{className:t,align:a="center",sideOffset:o=4,...i}=e;return(0,r.jsx)(e_.ZL,{children:(0,r.jsx)(e_.UC,{"data-slot":"popover-content",align:a,sideOffset:o,className:(0,u.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...i})})}var eC=a(23464),eM=a(39549),ek=a(83921);function ej(e){let{delayDuration:t=0,...a}=e;return(0,r.jsx)(ek.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...a})}function eI(e){let{...t}=e;return(0,r.jsx)(ej,{children:(0,r.jsx)(ek.bL,{"data-slot":"tooltip",...t})})}function eN(e){let{...t}=e;return(0,r.jsx)(ek.l9,{"data-slot":"tooltip-trigger",...t})}function eS(e){let{className:t,sideOffset:a=0,children:o,...i}=e;return(0,r.jsx)(ek.ZL,{children:(0,r.jsxs)(ek.UC,{"data-slot":"tooltip-content",sideOffset:a,className:(0,u.cn)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...i,children:[o,(0,r.jsx)(ek.i3,{className:"z-50 size-2.5 invisible"})]})})}var eT=a(88245);let eP=[[-6,-151],[3.7469,-151],[13.4938,-151],[23.2407,-151],[32.9876,-151],[42.7345,-151],[52.4815,-151],[62.2284,-151],[71.9753,-151],[81.7222,-151],[91.4691,-151],[101.216,-151],[105,-145.0371],[105,-135.2902],[105,-125.5433],[105,-115.7964],[105,-106.0495],[105,-96.3025],[105,-86.5556],[105,-76.8087],[105,-67.0618],[105,-57.3149],[105,-47.568],[105,-37.8211],[105,-28.0742],[105,-18.3273],[105,-8.5804],[105,1.1665],[105,10.9135],[105,20.6604],[105,30.4073],[105,40.1542],[105,49.9011],[105,59.648],[105,69.3949],[105,79.1418],[105,88.8887],[105,98.6356],[105,108.3825],[105,118.1295],[105,127.8764],[105,137.6233],[105,147.3702],[98.3829,150.5],[88.636,150.5],[78.8891,150.5],[69.1422,150.5],[59.3953,150.5],[49.6484,150.5],[39.9015,150.5],[30.1545,150.5],[20.4076,150.5],[10.6607,150.5],[.9138,150.5],[-6,147.6669],[-6,137.92],[-6,128.1731],[-6,118.4262],[-6,108.6793],[-6,98.9324],[-6,89.1855],[-6,79.4386],[-6.9052,64.4389],[-9.9833,50.8723],[-14.7534,39.6107],[-20.7055,30.4181],[-27.3297,23.0585],[-34.116,17.2962],[-40.5547,12.895],[-46.1357,9.6192],[-50.3492,7.2326],[-56.6734,3.4822],[-65.0926,-1.429],[-73.5118,-6.3402],[-81.9309,-11.2514],[-90.3501,-16.1626],[-98.7693,-21.0737],[-104.5379,-26.7015],[-99.7404,-35.186],[-94.9429,-43.6705],[-90.1454,-52.155],[-85.3479,-60.6394],[-80.5504,-69.1239],[-75.7529,-77.6084],[-70.9554,-86.0928],[-66.1579,-94.5773],[-61.3604,-103.0618],[-56.5629,-111.5462],[-51.7654,-120.0307],[-43.3928,-116.1346],[-34.8109,-111.5136],[-26.2291,-106.8926],[-17.6472,-102.2716],[-9.0653,-97.6506],[-6,-102.2655],[-6,-112.0124],[-6,-121.7593],[-6,-131.5062],[-6,-141.2531],[-6,-151]],eA=[[-291.9431,-242.2162],[-302.9991,-222.8081],[-314.3915,-203.4428],[-318.5266,-183.2547],[-327.3969,-162.767],[-335.5684,-142.3059],[-341.4369,-119.8758],[-335.0021,-99.6356],[-322.7056,-81.7225],[-305.8352,-68.256],[-286.3828,-57.1485],[-266.7842,-46.2611],[-248.4179,-33.738],[-228.5032,-24.2809],[-209.1988,-12.8402],[-190.7803,.115],[-174.5179,15.219],[-160.5075,32.8951],[-149.13,51.9106],[-140.3678,72.2745],[-133.8809,93.7824],[-130.903,115.8254],[-130.5614,138.208],[-131.822,160.5105],[-130.6975,182.8056],[-130.1596,205.1211],[-130.3157,227.5217],[-130.9849,249.5594],[-119.9336,268.7231],[-109.2773,287.122],[-87.5202,293.5307],[-65.9183,297.2801],[-43.5141,299.7716],[-25.237,304.4505],[-2.8846,304.4505],[19.4677,304.4505],[37.8224,299.9994],[60.0233,297.5344],[82.1327,294.2456],[104.4197,289.6146],[119.59,274.583],[128.2073,255.4297],[130.2284,233.7246],[130.7572,211.5509],[130.6859,189.1338],[131.8223,167.0579],[130.5542,144.8502],[130.0033,122.252],[131.9904,100.2352],[137.3062,78.6251],[145.6718,57.7821],[156.707,38.1783],[170.0312,20.2859],[185.4687,4.5764],[203.3113,-9.3438],[222.4537,-21.3923],[242.3488,-30.646],[261.0756,-42.6046],[280.5465,-53.6037],[299.6256,-65.4078],[318.8723,-75.809],[330.4092,-94.9918],[341.4369,-113.6238],[336.9773,-135.4945],[329.6538,-156.6026],[320.9589,-177.1832],[314.7341,-197.3683],[306.0307,-216.94],[294.6418,-236.4328],[281.0439,-247.9679],[268.5477,-266.4229],[254.2085,-283.7609],[238.3002,-299.3902],[217.3135,-304.4505],[195.7151,-303.3887],[175.526,-295.5444],[156.5344,-283.6309],[137.0887,-272.6822],[117.3158,-262.5258],[98.2179,-251.2168],[78.9306,-239.9138],[58.7321,-230.4124],[37.5852,-223.3821],[15.4795,-219.4944],[-6.7122,-218.9483],[-29.2205,-221.4057],[-50.8614,-226.9449],[-71.2917,-235.6508],[-90.7954,-246.5273],[-109.4932,-258.7451],[-129.5735,-268.2055],[-148.9546,-279.3176],[-168.4332,-290.3697],[-187.0184,-302.1822],[-208.9513,-302.803],[-229.8103,-303.8303],[-248.3102,-291.2057],[-263.5347,-273.2424],[-275.7049,-255.4447],[-291.9431,-242.2162]];var eU=a(93792);function eD(e){let{className:t,defaultValue:a,value:i,min:n=0,max:l=100,...s}=e,c=o.useMemo(()=>Array.isArray(i)?i:Array.isArray(a)?a:[n,l],[i,a,n,l]);return(0,r.jsxs)(eU.bL,{"data-slot":"slider",defaultValue:a,value:i,min:n,max:l,className:(0,u.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...s,children:[(0,r.jsx)(eU.CC,{"data-slot":"slider-track",className:(0,u.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,r.jsx)(eU.Q6,{"data-slot":"slider-range",className:(0,u.cn)("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:c.length},(e,t)=>(0,r.jsx)(eU.zi,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},t))]})}var eR=a(62523),eF=a(60760),eB=a(3462),ez=a(62483),eL=a(6874),eE=a.n(eL);let eX=["Desc_Coal_C","Desc_LiquidOil_C","Desc_NitrogenGas_C","Desc_OreBauxite_C","Desc_OreCopper_C","Desc_OreGold_C","Desc_OreIron_C","Desc_OreUranium_C","Desc_RawQuartz_C","Desc_SAM_C","Desc_Stone_C","Desc_Sulfur_C","Desc_Water_C","Desc_Geyser_C"],eO=["Pure","Normal","Impure"],eW={Pure:"green",Normal:"orange",Impure:"red"},eH=async()=>{let e={};for(let t of eX){let a={};for(let e of eO){let r=eW[e],o=await ea(V.templates.extra[r],"".concat(F,"/").concat(t,".avif"),V.templates.extra.x[r]),i=await ea(V.templates.extra[r],"".concat(F,"/").concat(t,".avif"),V.templates.extra.v[r]);a[e]={x:o,v:i}}e[t]=a}return{Slugs:{BP_Crystal_C:await er(V.templates.slugs.power_slug_mk1,G.Slugs.MK1),BP_Crystal_mk2_C:await er(V.templates.slugs.power_slug_mk2,G.Slugs.MK2),BP_Crystal_mk3_C:await er(V.templates.slugs.power_slug_mk3,G.Slugs.MK3)},Artifacts:{BP_WAT2_C:await er(V.templates.artifacts.mercer_sphere,G.Artifacts.Mercer_Sphere),BP_WAT1_C:await er(V.templates.artifacts.somersloop,G.Artifacts.Somersloop)},Creatures:{Char_SpaceRabbit_C:await er(V.templates.creatures.doggo,G.Creatures.Space_Rabbit)},Drop_Pods:{Looted:await ea(V.templates.extra.green,G.Markers.Drop_Pod,V.templates.extra.v.green),Not_Open:await ea(V.templates.extra.red,G.Markers.Drop_Pod,V.templates.extra.x.red),Not_Looted:await ea(V.templates.extra.white,G.Markers.Drop_Pod,V.templates.extra.misc.pickup),Power:await ea(V.templates.extra.yellow,G.Markers.Drop_Pod,V.templates.extra.misc.power)},Resources:e,Vehicles:{BP_Train_C:{Auto:await ea(V.templates.extra.green,G.Markers.Train,V.templates.extra.misc.auto),Manual:await ea(V.templates.extra.green,G.Markers.Train,V.templates.extra.misc.manual),Parked:await ea(V.templates.extra.yellow,G.Markers.Train,V.templates.extra.misc.parked),Derailed:await ea(V.templates.extra.red,G.Markers.Train,V.templates.extra.misc.derailed)},BP_Golfcart_C:{Auto:await ea(V.templates.extra.green,G.Markers.Factory_Cart,V.templates.extra.misc.auto),Manual:await ea(V.templates.extra.green,G.Markers.Factory_Cart,V.templates.extra.misc.manual),Parked:await ea(V.templates.extra.yellow,G.Markers.Factory_Cart,V.templates.extra.misc.parked),RunningOutOfFuel:await ea(V.templates.extra.yellow,G.Markers.Factory_Cart,V.templates.extra.misc.low_fuel),OutOfFuel:await ea(V.templates.extra.red,G.Markers.Factory_Cart,V.templates.extra.misc.out_of_fuel)},BP_Tractor_C:{Auto:await ea(V.templates.extra.green,G.Markers.Tractor,V.templates.extra.misc.auto),Manual:await ea(V.templates.extra.green,G.Markers.Tractor,V.templates.extra.misc.manual),Parked:await ea(V.templates.extra.yellow,G.Markers.Tractor,V.templates.extra.misc.parked),RunningOutOfFuel:await ea(V.templates.extra.yellow,G.Markers.Tractor,V.templates.extra.misc.low_fuel),OutOfFuel:await ea(V.templates.extra.red,G.Markers.Tractor,V.templates.extra.misc.out_of_fuel)},BP_Truck_C:{Auto:await ea(V.templates.extra.green,G.Markers.Truck,V.templates.extra.misc.auto),Manual:await ea(V.templates.extra.green,G.Markers.Truck,V.templates.extra.misc.manual),Parked:await ea(V.templates.extra.yellow,G.Markers.Truck,V.templates.extra.misc.parked),RunningOutOfFuel:await ea(V.templates.extra.yellow,G.Markers.Truck,V.templates.extra.misc.low_fuel),OutOfFuel:await ea(V.templates.extra.red,G.Markers.Truck,V.templates.extra.misc.out_of_fuel)},BP_Explorer_C:{Auto:await ea(V.templates.extra.green,G.Markers.Explorer,V.templates.extra.misc.auto),Manual:await ea(V.templates.extra.green,G.Markers.Explorer,V.templates.extra.misc.manual),Parked:await ea(V.templates.extra.yellow,G.Markers.Explorer,V.templates.extra.misc.parked),RunningOutOfFuel:await ea(V.templates.extra.yellow,G.Markers.Explorer,V.templates.extra.misc.low_fuel),OutOfFuel:await ea(V.templates.extra.red,G.Markers.Explorer,V.templates.extra.misc.out_of_fuel)},BP_DroneTransport_C:{No_Route:await ea(V.templates.extra.red,G.Markers.Drone,V.templates.extra.misc.no_route),No_Destination:await ea(V.templates.extra.red,G.Markers.Drone,V.templates.extra.misc.no_destination),Parked:await ea(V.templates.extra.yellow,G.Markers.Drone,V.templates.extra.misc.parked),Flying:await ea(V.templates.extra.green,G.Markers.Drone,V.templates.extra.misc.flying),Travelling:await ea(V.templates.extra.green,G.Markers.Drone,V.templates.extra.misc.travelling)}},Buildings:{Build_TrainStation_C:await er(V.templates.extra.green,G.Markers.Train_Station),Build_DroneStation_C:await er(V.templates.extra.green,G.Markers.Drone_Station),Build_TruckStation_C:await er(V.templates.extra.green,G.Markers.Truck_Station),Build_HubTerminal_C:{No_Milestone:await ea(V.templates.extra.green,G.Markers.Hub,V.templates.extra.misc.no_milestone),Ship_Returning:await ea(V.templates.extra.yellow,G.Markers.Hub,V.templates.extra.misc.ship_returning),Normal:await er(V.templates.default,G.Markers.Hub)},Build_Portal_C:await er(V.templates.default,G.Markers.Portal),Build_PortalSatellite_C:await er(V.templates.default,G.Markers.Portal_Satellite),Build_SpaceElevator_C:{Upgrade_Not_Ready:await ea(V.templates.extra.red,G.Markers.Space_Elevator,V.templates.extra.misc.upgrade_not_ready),Upgrade_Ready:await ea(V.templates.extra.yellow,G.Markers.Space_Elevator,V.templates.extra.misc.upgrade_ready),Fully_Upgraded:await ea(V.templates.extra.green,G.Markers.Space_Elevator,V.templates.extra.v.green)},Build_RadarTower_C:await er(V.templates.default,G.Markers.Radar_Tower)},Players:{Alive:await ea(V.templates.extra.green,G.Markers.Player,V.templates.extra.v.green),Dead:await ea(V.templates.extra.red,G.Markers.Player_Dead,V.templates.extra.x.red),Offline:await ea(V.templates.extra.red,G.Markers.Player_Offline,V.templates.extra.x.red)},Unlock_Items:{Tape:await ea(V.templates.extra.white,G.Utils.Lock,V.templates.extra.misc.tape,40),Customization:await ea(V.templates.extra.white,G.Utils.Lock,V.templates.extra.misc.customization,40),Unlock:await ea(V.templates.extra.white,G.Utils.Lock,V.templates.extra.misc.unlock,40)}}},eV={329:G.MonochromeIcons.Arrow_Down,330:G.MonochromeIcons.Arrow_DownLeft,331:G.MonochromeIcons.Arrow_DownRight,332:G.MonochromeIcons.Arrow_Left,333:G.MonochromeIcons.Arrow_UpLeft,334:G.MonochromeIcons.Arrow_Up,335:G.MonochromeIcons.Arrow_UpRight,336:G.MonochromeIcons.Arrow_Right,337:G.MonochromeIcons.Drop,338:G.MonochromeIcons.Radiation,339:G.MonochromeIcons.ThumbUp,340:G.MonochromeIcons.ThumbDown,341:G.MonochromeIcons.Stop_X,342:G.MonochromeIcons.RoadArrow_Down,343:G.MonochromeIcons.RoadArrow_TurnAround,344:G.MonochromeIcons.RoadArrow_TurnLeft,345:G.MonochromeIcons.RoadArrow_TurnRight,346:G.MonochromeIcons.RoadArrow_Up,347:G.MonochromeIcons.Crate,348:G.MonochromeIcons.Exit,349:G.MonochromeIcons.Factory,350:G.MonochromeIcons.Home,351:G.MonochromeIcons.Pioneer,352:G.MonochromeIcons.Power,353:G.MonochromeIcons.Tractor,354:G.MonochromeIcons.Explorer,355:G.MonochromeIcons.Truck,356:G.MonochromeIcons.Train,357:G.MonochromeIcons.Factory_Cart,358:G.MonochromeIcons.Drone,362:G.MonochromeIcons.Warning,598:G.MonochromeIcons.Check,644:G.MonochromeIcons.Recycle,645:G.MonochromeIcons.Trash,650:G.Stamps.Biomass,651:G.Stamps.Cave,652:G.Stamps.Crash,653:G.Stamps.Crate,654:G.Stamps.Creature,656:G.Stamps["Question Mark"],657:G.Stamps.Fluids,659:G.Stamps.Radiation,660:G.Stamps.Rock,661:G.Stamps.Warning,662:G.Stamps.Fruit,663:G.Stamps.Slug,782:G.MonochromeIcons.Question_Mark};var eG=function(e){return e.Complete="Complete",e.IdleWaitForTime="Idle Wait For Time",e.Loading="Loading",e.None="None",e.Unloading="Unloading",e.WaitForTransferCondition="Wait for Transfer Condition",e.WaitingForTransfer="Waiting For Transfer",e.WaitingToStart="Waiting To Start",e}(eG||{}),eK=function(e){return e.Parked="Parked",e.ManualDriving="Manual Driving",e.SelfDriving="Self-Driving",e.Derailed="Derailed",e}(eK||{}),eZ=function(e){return e.Unloading="Unloading",e.Loading="Unloading",e}(eZ||{}),eQ=function(e){return e.Idle="Idle",e.Unloading="Unloading",e.Loading="Unloading",e}(eQ||{}),eq=function(e){return e.Unknown="Unknown",e.Flying="Flying",e.Travelling="Travelling",e.None="None",e}(eq||{});let eY={assembler:{width:10,length:15,color:[129,200,190,100]},constructor:{width:8,length:10,color:[153,209,219,100]},smelter:{width:6,length:9,color:[133,193,220,100]},converter:{width:16,length:16,color:[239,159,118,100]},foundry:{width:10,length:9,color:[229,200,140,100]},refinery:{width:10,length:20,color:[202,158,230,100]},packager:{width:8,length:8,color:[228,184,244,100]},particle_accelerator:{width:24,length:38,color:[166,234,158,100]},manufacturer:{width:18,length:20,color:[200,25,212,100]},coal_generator:{width:10,length:26,color:[30,102,245,100]},biomass_generator:{width:8,length:8,color:[254,100,11,100]},biomass_generator_integrated:{width:4,length:8,color:[254,100,11,100]},fuel_generator:{width:20,length:20,color:[234,118,203,100]},nuclear_generator:{width:36,length:43,color:[23,146,43,100]}},eJ=["BP_Crystal_C","BP_Crystal_mk2_C","BP_Crystal_mk3_C"],e$={BP_Crystal_C:"MK1",BP_Crystal_mk2_C:"MK2",BP_Crystal_mk3_C:"MK3"};function e0(){let[e,t]=(0,o.useState)({});(0,o.useEffect)(()=>{(async()=>{t(await eH())})()},[]);let a=new g.A({id:"2d-scene",flipY:!1,controller:{dragRotate:!1}}),d=new x.A({id:"map",image:"/map/map.avif",bounds:[-324698.16796875,-375e3,425301.83203125,375e3]}),[u,p]=(0,o.useState)(-10),C=[-25e3,2e5],[M,k]=(0,o.useState)(C),[N,S]=(0,o.useState)(0),{baseURL:T,mapUseInGameColors:P,_hasHydrated:A,mapFetchSpeed:U,authToken:D,username:R}=(0,eM.C)();async function B(){let e;try{e=await (await eC.A.get(T+ev.resource_node.url)).data}catch(e){}if(null==e)return;let t=new Map;e.forEach(e=>{e.ClassName&&e.Purity&&(t.has(e.ClassName)||t.set(e.ClassName,{Name:e.Name||"",extra:new Set}),t.get(e.ClassName).extra.add(e.Purity))});let a=Array.from(t.entries()).sort((e,t)=>{let[a]=e,[r]=t;return a.localeCompare(r)}).map(e=>{let[t,{Name:a,extra:r}]=e;return{layerId:"resource_node",className:t,name:a,extra:Array.from(r).sort()}}),r=[...a,...eJ.map(e=>({layerId:"slugs",className:e,name:"Slug ".concat(e$[e]),extra:[e$[e]]})),{layerId:"artifacts",className:Z.MercerSphere,name:"Mercer Sphere",extra:["NoExtra"]},{layerId:"artifacts",className:Z.Somersloop,name:"Somersloop",extra:["NoExtra"]}],o=r.map(e=>e.extra.map(t=>"".concat(e.layerId,"-").concat(e.className,"-").concat(t)));return[r,o]}(0,o.useEffect)(()=>{let e=setTimeout(()=>S(N+1),U);return()=>clearTimeout(e)},[N]);let[z,L]=(0,o.useState)([]),[E,X]=(0,o.useState)([]);(0,o.useEffect)(()=>{!async function(){if(!A)return;let e=await B();e&&X(e[0])}()},[A]);let[O,W]=(0,o.useState)(()=>structuredClone(ev));function H(e){let t=O[e].visible;return new h.A({coordinateSystem:f.rf.CARTESIAN,data:t?T+O[e].url+"#".concat(N):[],getIcon:()=>({height:92,url:G.Utils.Rotation,width:72,anchorY:66}),getPosition:e=>[e.location.x,-1*e.location.y],getAngle:e=>-e.location.rotation,getSize:72,id:"".concat(e,"_rotation"),updateTriggers:{visible:t},visible:t})}function V(e){let{id:t,visible:a,getFilterValue:r,filterRange:o,getIconFunc:i,iconUrl:n,getColor:l,extra:s}=e,c={autoHighlight:!0,coordinateSystem:f.rf.CARTESIAN,data:a?T+O[t].url+"#".concat(N):[],getIcon:i||(()=>({height:72,url:n,width:72})),getPosition:e=>[e.location.x,-1*e.location.y],getSize:70,highlightColor:[255,255,255,20],id:t,pickable:!0,updateTriggers:{visible:a},visible:a};return null!=r&&null!=o&&(c={...c,getFilterValue:r,filterRange:o,extensions:[new eT.A({filterSize:1})]}),null!=l&&(c={...c,getColor:l}),null!=s&&(c={...c,extra:s}),new h.A(c)}function K(e,t,a,r,o,i){return new v.A({autoHighlight:!0,data:t?T+O[e].url+"#".concat(N):[],getFillColor:P?e=>ee($(e.ColorSlot.PrimaryColor)):r,getLineColor:P?e=>ee($(e.ColorSlot.SecondaryColor)):o,getLineWidth:a,getPolygon:i||(e=>ef(e)),highlightColor:[255,255,255,20],id:e,lineWidthMinPixels:1,pickable:!0,positionFormat:"XY",updateTriggers:{visible:t},visible:t,getFilterValue:e=>[Math.round(e.location.z)],filterRange:M,extensions:[new eT.A({filterSize:1})]})}class q extends _.A{renderLayers(){let{id:e,visible:t,iconUrl:a,getIconFunc:r,getFillColor:o,getLineColor:i,getLineWidth:n}=this.props,l=this.context.viewport.zoom>-8,s=t?T+O[e].url+"#".concat(N):[];return[new h.A({autoHighlight:!0,coordinateSystem:f.rf.CARTESIAN,data:s,getIcon:r||(()=>({height:70,url:a,width:70})),getPosition:e=>[e.location.x,-1*e.location.y],getSize:70,highlightColor:[255,255,255,20],id:"".concat(e,"-icon"),pickable:!0,updateTriggers:{visible:t&&!l},visible:t&&!l,getFilterValue:e=>[Math.round(e.location.z)],filterRange:M,extensions:[new eT.A({filterSize:1})]}),new v.A({autoHighlight:!0,data:s,getFillColor:P?e=>ee($(e.ColorSlot.PrimaryColor)):o,getLineColor:P?e=>ee($(e.ColorSlot.SecondaryColor)):i,getLineWidth:n,getPolygon:e=>ef(e),highlightColor:[255,255,255,20],id:"".concat(e,"-polygon"),lineWidthMinPixels:1,pickable:!0,positionFormat:"XY",updateTriggers:{visible:t&&l},visible:t&&l,getFilterValue:e=>[Math.round(e.location.z)],filterRange:M,extensions:[new eT.A({filterSize:1})]})]}}function J(e,t,a){return new b.A({id:e,data:a?T+O[e].url+"#".concat(N):[],getPath:e=>e.SplineData.flatMap(e=>[e.x,-1*e.y]),getColor:P?e=>ee($(e.ColorSlot.PrimaryColor)):t,positionFormat:"XY",visible:a,updateTriggers:{visible:a},getWidth:e=>100*(u>-8?1:8),jointRounded:!0,capRounded:!0,pickable:!0,autoHighlight:!0,highlightColor:[255,255,255,20]})}class et extends _.A{getPickingInfo(e){let{info:t}=e;return t.layer&&t.sourceLayer&&(t.layer=t.sourceLayer),t}renderLayers(){let e=O.belts.visible;return[J("belts",e=>Q(e.Name,[153,209,219],5),e),K("belt_lifts",e,20,e=>Q(e.Name,[153,209,219],5),e=>Q(e.Name,[153,209,219],6),e=>{let t=e.BoundingBox,a=e.location,r=-a.rotation%360,o=[[t.min.x,-1*t.min.y],[t.max.x,-1*t.min.y],[t.max.x,-1*t.min.y-20],[t.max.x+200,-1*t.min.y-20],[t.max.x+200,-1*t.max.y+20],[t.max.x,-1*t.max.y+20],[t.max.x,-1*t.max.y],[t.min.x,-1*t.max.y]],i=[a.x,-1*a.y],n=eh(r+90);return o.map(e=>eg(e,i,n))}),K("splitter_merger",e,20,e=>{var t;return Y([153,209,219],5)[null!=(t=["Build_ConveyorAttachmentMerger_C","Build_ConveyorAttachmentSplitter_C","Build_ConveyorAttachmentMergerPriority_C","Build_ConveyorAttachmentSplitterSmart_C","Build_ConveyorAttachmentSplitterProgrammable_C"].indexOf(e.ClassName))?t:5]},[41,44,60],e=>{let t=e.BoundingBox,a=e.location,r=-a.rotation%360,o=[[t.min.x,-1*t.min.y],[t.max.x,-1*t.min.y],[t.max.x,-1*t.max.y],[t.min.x,-1*t.max.y]];if(e.ClassName.includes("Merger")||e.ClassName.includes("Splitter")){let a,r,i=20,n=20,l=60,s=[],c=[];e.ClassName.includes("Merger")?(i=20,n=20,l=60,s=[[t.min.x+i,-1*t.min.y],[t.min.x+i,-1*t.min.y+n],[t.max.x-i,-1*t.min.y+n],[t.max.x-i,-1*t.min.y]],c=[[t.max.x-i,-1*t.max.y],[t.max.x-i,-1*t.max.y-n],[t.min.x+i,-1*t.max.y-n],[t.min.x+i,-1*t.max.y]]):e.ClassName.includes("Splitter")&&(i=20,n=20,l=60,s=[[t.min.x+i,-1*t.min.y],[t.min.x+i,-1*t.min.y+l],[t.max.x-i,-1*t.min.y+l],[t.max.x-i,-1*t.min.y]],c=[[t.max.x-i,-1*t.max.y],[t.max.x-i,-1*t.max.y-l],[t.min.x+i,-1*t.max.y-l],[t.min.x+i,-1*t.max.y]]),a=[[t.max.x,-1*t.min.y-i],[t.max.x+l,-1*t.min.y-i],[t.max.x+l,-1*t.max.y+i],[t.max.x,-1*t.max.y+i]],r=[[t.min.x,-1*t.max.y+i],[t.min.x-n,-1*t.max.y+i],[t.min.x-n,-1*t.min.y-i],[t.min.x,-1*t.min.y-i]],o=[...s,[t.max.x,-1*t.min.y],...a,[t.max.x,-1*t.max.y],...c,[t.min.x,-1*t.max.y],...r,[t.min.x,-1*t.min.y]]}let i=[a.x,-1*a.y],n=eh(r+90);return o.map(e=>eg(e,i,n))})]}}class ea extends _.A{getPickingInfo(e){let{info:t}=e;return t.layer&&t.sourceLayer&&(t.layer=t.sourceLayer),t}renderLayers(){let e=O.pipes.visible;return[J("pipes",e=>Q(e.Name,[255,204,153],1),e),K("pipe_junctions",e,20,()=>[255,204,153],()=>Y([255,204,153],6)[6],e=>{let t=e.BoundingBox,a=e.location,r=-a.rotation%360,o=[[t.min.x+20,-1*t.min.y],[t.min.x+20,-1*t.min.y+40],[t.max.x-20,-1*t.min.y+40],[t.max.x-20,-1*t.min.y]],i=[[t.max.x,-1*t.min.y-20],[t.max.x+40,-1*t.min.y-20],[t.max.x+40,-1*t.max.y+20],[t.max.x,-1*t.max.y+20]],n=[[t.max.x-20,-1*t.max.y],[t.max.x-20,-1*t.max.y-40],[t.min.x+20,-1*t.max.y-40],[t.min.x+20,-1*t.max.y]],l=[[t.min.x,-1*t.max.y+20],[t.min.x-40,-1*t.max.y+20],[t.min.x-40,-1*t.min.y-20],[t.min.x,-1*t.min.y-20]],s=[...o,[t.max.x,-1*t.min.y],...i,[t.max.x,-1*t.max.y],...n,[t.min.x,-1*t.max.y],...l,[t.min.x,-1*t.min.y]],c=[a.x,-1*a.y],d=eh(r+90);return s.map(e=>eg(e,c,d))})]}}class er extends _.A{getPickingInfo(e){let{info:t}=e;return t.layer&&t.sourceLayer&&(t.layer=t.sourceLayer),t}renderLayers(){let e=O.hypertubes.visible;return[J("hypertubes",()=>[255,100,153],e),K("hypertube_entrances",e,20,()=>[255,100,153],()=>Y([255,100,153],6)[6],e=>{let t=e.BoundingBox,a=e.location,r=-a.rotation%360,o=[[t.min.x-80,-1*t.min.y+120],[t.max.x-80,-1*t.min.y-120],[t.max.x-240,-1*t.max.y-120],[t.min.x-240,-1*t.max.y+120]],i=[a.x,-1*a.y],n=eh(r+90);return o.map(e=>eg(e,i,n))}),K("hypertube_junctions",e,20,()=>[255,100,153],()=>Y([255,100,153],6)[6],e=>{let t,a,r;e.BoundingBox;let o=e.location,i=-o.rotation%360;return"Build_HypertubeTJunction_C"===e.ClassName?(a=[o.x,-o.y],r=eh(i),t=eP.map(e=>[o.x+e[0]-50,-o.y+e[1]]).map(e=>[2*a[0]-e[0],e[1]]).map(e=>ex(e,a,2))):(a=[o.x,-o.y-18],r=eh(i+270),t=eA.map(e=>[o.x+e[0],-o.y+e[1]]).map(e=>ex(e,a,.8))),t.map(e=>eg(e,a,r))})]}}class eo extends _.A{getPickingInfo(e){let{info:t}=e;return t.layer&&t.sourceLayer&&(t.layer=t.sourceLayer),t}renderLayers(){var t,a;let r=O.vehicles.visible;return[new q({id:"truck_station",visible:r,iconUrl:null!=(a=null==e||null==(t=e.Buildings)?void 0:t.Build_TruckStation_C)?a:G.Empty,getLineWidth:20,getFillColor:ee("#91d7e3"),getLineColor:[41,44,60]}),H("vehicles"),V({id:"vehicles",visible:r,getIconFunc:t=>{var a;let r=G.Empty,o=null==e||null==(a=e.Vehicles)?void 0:a[t.ClassName];return o&&(t.HasFuelForRoundtrip?t.HasFuel?t.Autopilot?r=o.Auto:t.Autopilot||0==t.CurrentGear?t.Autopilot||0!=t.CurrentGear||0!=Math.round(t.ForwardSpeed)||(r=o.Parked):r=o.Manual:r=o.OutOfFuel:r=o.RunningOutOfFuel),{height:70,width:70,url:r}}})]}}class ei extends _.A{getPickingInfo(e){let{info:t}=e;return t.layer&&t.sourceLayer&&(t.layer=t.sourceLayer),t}renderLayers(){let t=O.train.visible;return[J("train_rails",()=>ee("#8839ef"),t),new q({id:"train_station",visible:t,getIconFunc:()=>{var t,a;return{height:70,url:null!=(a=null==e||null==(t=e.Buildings)?void 0:t.Build_TrainStation_C)?a:G.Empty,width:70}},getLineWidth:20,getFillColor:ee("#8aadf4"),getLineColor:[41,44,60]}),H("train"),V({id:"train",visible:t,getIconFunc:t=>{var a;let r=G.Empty,o=null==e||null==(a=e.Vehicles)?void 0:a.BP_Train_C;return o&&(t.Derailed?r=o.Derailed:t.Status!=eK.Parked&&(t.Status!=eK.SelfDriving||t.TimeTable.length)?t.Status==eK.SelfDriving?r=o.Auto:t.Status==eK.ManualDriving&&(r=o.Manual):r=o.Parked),{height:70,width:70,url:r}}})]}}class en extends _.A{getPickingInfo(e){let{info:t}=e;return t.layer&&t.sourceLayer&&(t.layer=t.sourceLayer),t}renderLayers(){var t,a;let r=O.drone.visible;return[new q({id:"drone_station",visible:r,iconUrl:null!=(a=null==e||null==(t=e.Buildings)?void 0:t.Build_DroneStation_C)?a:G.Empty,getLineWidth:20,getFillColor:ee("#b7bdf8"),getLineColor:[41,44,60]}),H("drone"),V({id:"drone",visible:r,getIconFunc:t=>{var a;let r=G.Empty,o=null==e||null==(a=e.Vehicles)?void 0:a.BP_DroneTransport_C;return o&&(t.CurrentFlyingMode==eq.Flying?r=o.Flying:t.CurrentFlyingMode==eq.Travelling?r=o.Travelling:"No Destination"==t.CurrentDestination?r=o.No_Destination:t.HasPairedStation?(t.CurrentFlyingMode==eq.None||t.CurrentFlyingMode==eq.Unknown)&&(r=o.No_Route):r=o.No_Route),{height:70,width:70,url:o&&"string"==typeof o?o:r}}})]}}class el extends _.A{getPickingInfo(e){let{info:t}=e;return t.layer&&t.sourceLayer&&(t.layer=t.sourceLayer),t}renderLayers(){return[new h.A({coordinateSystem:f.rf.CARTESIAN,data:O.players.visible?T+O.players.url+"#".concat(N):[],getIcon:()=>({height:92,url:G.Utils.Rotation,width:72,anchorY:66}),getPosition:e=>[e.location.x,-1*e.location.y],getAngle:e=>-e.location.rotation,getSize:72,id:"players_rotation",updateTriggers:{visible:O.players.visible},visible:O.players.visible}),V({id:"players",visible:O.players.visible,getIconFunc:t=>{var a,r,o,i,n,l;return{url:t.Dead?null!=(i=null==e||null==(a=e.Players)?void 0:a.Dead)?i:G.Empty:t.Online?null!=(n=null==e||null==(r=e.Players)?void 0:r.Alive)?n:G.Empty:null!=(l=null==e||null==(o=e.Players)?void 0:o.Offline)?l:G.Empty,width:72,height:72}}})]}}let ed=[V({id:"slugs",visible:O.slugs.visible,getIconFunc:t=>{var a,r;return{url:null!=(r=null==e||null==(a=e.Slugs)?void 0:a[t.ClassName])?r:G.Empty,width:70,height:70}},filterRange:[1,1],getFilterValue:e=>{let t=z.filter(e=>e.startsWith("slugs")),a=0!=t.filter(t=>t.split("-").includes(e.ClassName)).length;return 0!=t.length?+!!a:1}}),V({id:"artifacts",visible:O.artifacts.visible,getIconFunc:t=>{var a,r;return{url:null!=(r=null==e||null==(a=e.Artifacts)?void 0:a[t.ClassName])?r:G.Empty,height:70,width:70}},filterRange:[1,1],getFilterValue:e=>{let t=z.filter(e=>e.startsWith("artifacts")),a=0!=t.filter(t=>t.split("-").includes(e.ClassName)).length;return 0!=t.length?+!!a:1}}),V({id:"lizard_doggos",visible:O.lizard_doggos.visible,getIconFunc:t=>{var a,r;return{url:null!=(r=null==e||null==(a=e.Creatures)?void 0:a[t.ClassName])?r:G.Empty,width:70,height:70}}}),V({id:"drop_pod",visible:O.drop_pod.visible,getIconFunc:t=>({url:(null==e?void 0:e.Drop_Pods)?t.Opened?t.Looted?e.Drop_Pods.Looted:e.Drop_Pods.Not_Looted:0!=t.RequiredPower?e.Drop_Pods.Power:e.Drop_Pods.Not_Open:G.Empty,width:70,height:70})}),V({id:"unlock_items",visible:O.unlock_items.visible,getIconFunc:t=>({url:(null==e?void 0:e.Unlock_Items)?t.ClassName.includes("Tape")?e.Unlock_Items.Tape:t.ClassName.includes("Customization")?e.Unlock_Items.Customization:e.Unlock_Items.Unlock:G.Empty,width:70,height:70})}),V({id:"resource_node",visible:O.resource_node.visible,getIconFunc:t=>{var a,r;return{url:null!=(r=null==e||null==(a=e.Resources)?void 0:a[t.ClassName][t.Purity][t.Exploited?"v":"x"])?r:G.Empty,width:70,height:70}},filterRange:[1,1],getFilterValue:e=>{let t=z.filter(e=>e.startsWith("resource_node")),a=0!=t.filter(t=>{let a=t.split("-");return a[1]==e.ClassName&&a[2]==e.Purity}).length;return 0!=t.length?+!!a:1}}),new y.A({pickable:!0,id:"cables",data:O.cables.visible?T+O.cables.url+"#".concat(N):[],getColor:[44,117,255],getSourcePosition:e=>[e.location0.x,-1*e.location0.y],getTargetPosition:e=>[e.location1.x,-1*e.location1.y],getWidth:2,visible:O.cables.visible,updateTriggers:{visible:O.cables.visible}}),new et({uwu:"uwu",ThisIsForUpdating:()=>{}}),new ea({uwu:"uwu",ThisIsForUpdating:()=>{}}),new ei({uwu:"uwu",ThisIsForUpdating:()=>{}}),new eo({uwu:"uwu",ThisIsForUpdating:()=>{}}),new en({uwu:"uwu",ThisIsForUpdating:()=>{}}),new er({uwu:"uwu",ThisIsForUpdating:()=>{}}),K("factory",O.factory.visible,20,P?e=>ee($(e.ColorSlot.PrimaryColor)):e=>e.ClassName.includes("Smelter")?new Uint8Array(eY.smelter.color):e.ClassName.includes("Assembler")?new Uint8Array(eY.assembler.color):e.ClassName.includes("Constructor")?new Uint8Array(eY.constructor.color):e.ClassName.includes("Manufacturer")?new Uint8Array(eY.manufacturer.color):e.ClassName.includes("HadronCollider")?new Uint8Array(eY.particle_accelerator.color):e.ClassName.includes("Packager")?new Uint8Array(eY.packager.color):e.ClassName.includes("Refinery")?new Uint8Array(eY.refinery.color):e.ClassName.includes("Converter")?new Uint8Array(eY.converter.color):e.ClassName.includes("Foundry")?new Uint8Array(eY.foundry.color):[100,100,100,100],P?e=>ee($(e.ColorSlot.SecondaryColor)):[41,44,60]),K("generators",O.generators.visible,20,P?e=>ee($(e.ColorSlot.PrimaryColor)):e=>e.ClassName.includes("Coal")?new Uint8Array(eY.coal_generator.color):e.ClassName.includes("GeneratorBiomass")?new Uint8Array(eY.biomass_generator.color):e.ClassName.includes("IntegratedBiomass")?new Uint8Array(eY.biomass_generator_integrated.color):e.ClassName.includes("Fuel")?new Uint8Array(eY.fuel_generator.color):e.ClassName.includes("Nuclear")?new Uint8Array(eY.nuclear_generator.color):[100,100,100,100],P?e=>ee($(e.ColorSlot.SecondaryColor)):[41,44,60]),K("extractors",O.extractors.visible,20,P?e=>ee($(e.ColorSlot.PrimaryColor)):()=>[100,100,100,100],P?e=>ee($(e.ColorSlot.SecondaryColor)):[41,44,60]),K("fracking_activators",O.extractors.visible,20,P?e=>ee($(e.ColorSlot.PrimaryColor)):()=>[100,100,100,100],P?e=>ee($(e.ColorSlot.SecondaryColor)):[41,44,60]),K("storage_inv",O.storage_inv.visible,20,P?e=>ee($(e.ColorSlot.PrimaryColor)):()=>ee("#c6a0f6"),P?e=>ee($(e.ColorSlot.SecondaryColor)):[41,44,60]),new q({id:"space_elevator",visible:O.space_elevator.visible,getLineWidth:20,getFillColor:P?e=>ee($(e.ColorSlot.PrimaryColor)):()=>ee("#eed49f"),getLineColor:P?e=>ee($(e.ColorSlot.SecondaryColor)):[41,44,60],getIconFunc:t=>{var a,r;return{url:null!=(r=null==e||null==(a=e.Buildings)?void 0:a.Build_SpaceElevator_C[t.FullyUpgraded?"Fully_Upgraded":t.UpgradeReady?"Upgrade_Ready":"Upgrade_Not_Ready"])?r:G.Empty,height:70,width:70}}}),new q({id:"radar",visible:O.radar.visible,getLineWidth:20,getFillColor:()=>ee("#f0c6c6"),getLineColor:P?e=>ee($(e.ColorSlot.SecondaryColor)):[41,44,60],getIconFunc:t=>{var a,r;return{url:null!=(r=null==e||null==(a=e.Buildings)?void 0:a.Build_RadarTower_C)?r:G.Empty,width:70,height:70}}}),new q({id:"switches",visible:O.switches.visible,iconUrl:G.Markers.Power,getLineWidth:20,getFillColor:()=>ee("#f0c6c6"),getLineColor:P?e=>ee($(e.ColorSlot.SecondaryColor)):[41,44,60]}),V({id:"hub",visible:O.hub.visible,getIconFunc:t=>{var a,r;return{url:null!=(r=null==e||null==(a=e.Buildings)?void 0:a.Build_HubTerminal_C[!t.ShipDock?"Ship_Returning":!t.HasActiveMilestone?"No_Milestone":"Normal"])?r:G.Empty,width:70,height:70}}}),new q({id:"portals",visible:O.portals.visible,getLineWidth:20,getFillColor:()=>ee("#f0c6c6"),getLineColor:P?e=>ee($(e.ColorSlot.SecondaryColor)):[41,44,60],getIconFunc:t=>{var a,r;return{url:null!=(r=null==e||null==(a=e.Buildings)?void 0:a[t.ClassName])?r:G.Empty,width:70,height:70}}}),new h.A({id:"map_markers",data:T+O.map_markers.url+"#".concat(N),getIcon:e=>{var t;return{url:null!=(t=eV[e.IconID])?t:G.MonochromeIcons.Portal_Satellite,width:128,height:128,mask:!Object.values(G.Stamps).includes(eV[e.IconID])}},getPosition:e=>[e.location.x,-1*e.location.y],getSize:40,getColor:e=>ee($(e.ColorSlot)),pickable:!0}),new el({uwu:"uwu",ThisIsForUpdating:()=>{}})],[e_,ek]=(0,o.useState)(null);(0,o.useEffect)(()=>ek((0,r.jsxs)("table",{className:"w-full table-auto border-collapse text-xs",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"text-left",children:[(0,r.jsx)("th",{className:"p-1",children:"Icon"}),(0,r.jsx)("th",{className:"p-1",children:"Name"}),(0,r.jsx)("th",{className:"p-1 text-center",children:"Options"})]})}),(0,r.jsx)("tbody",{children:E.map(e=>{let{className:t,name:a,extra:o,layerId:l}=e,s="".concat(F).concat(t,".avif"),c=o.filter(e=>z.includes("".concat(l,"-").concat(t,"-").concat(e))),d=c.length>0&&(0,r.jsx)("div",{className:"absolute right-[-2px] top-[-2px]",children:(0,r.jsx)("div",{className:"relative",style:{width:"".concat(3*c.length,"px"),height:"8px"},children:c.map((e,a)=>{var o;let i=null!=(o=j.WO[t])?o:j.ct[e];return(0,r.jsx)("div",{className:"rounded-full size-2 absolute border bg-card",style:{borderColor:"hsl(".concat(i,")"),top:0,left:"".concat(3*a,"px"),zIndex:a}},e)})})});return(0,r.jsxs)("tr",{className:"text-center border-t",children:[(0,r.jsx)("td",{className:"p-1",children:(0,r.jsx)("img",{src:s,alt:t,className:"size-6"})}),(0,r.jsx)("td",{className:"p-1 text-left truncate max-w-[120px]",children:a}),(0,r.jsx)("td",{className:"p-1 relative w-auto",children:1===o.length?(()=>{var e;let a=o[0],s=null!=(e=j.WO[t])?e:j.ct[a],c="".concat(l,"-").concat(t,"-").concat(a),u=z.includes(c);return(0,r.jsxs)("div",{onClick:()=>L(e=>e.includes(c)?e.filter(e=>e!==c):[...e,c]),className:"inline-flex items-center justify-center size-5 rounded-full border cursor-pointer relative",style:{backgroundColor:"hsla(".concat(s,", 0.2)"),borderColor:"hsl(".concat(s,")")},title:a,children:[u?(0,r.jsx)(i.A,{className:"size-4"}):(0,r.jsx)(n.A,{className:"size-4"}),d]})})():(0,r.jsxs)(eb,{children:[(0,r.jsx)(ey,{asChild:!0,children:(0,r.jsxs)("div",{className:"inline-flex items-center justify-center size-5 rounded-full border cursor-pointer bg-muted hover:bg-muted/80 relative",children:[(0,r.jsx)("p",{children:"+"}),d]})}),(0,r.jsx)(ew,{className:"p-2 gap-2 inline-flex w-auto",children:o.map(e=>{var a;let o=null!=(a=j.WO[t])?a:j.ct[e],s="".concat(l,"-").concat(t,"-").concat(e),c=z.includes(s);return(0,r.jsxs)("div",{onClick:()=>L(e=>e.includes(s)?e.filter(e=>e!==s):[...e,s]),className:"inline-flex flex-col items-center gap-1 cursor-pointer text-sm px-2 w-[50px]",children:[(0,r.jsx)("div",{className:"size-5 rounded-full border",style:{backgroundColor:"hsla(".concat(o,", 0.2)"),borderColor:"hsl(".concat(o,")")},children:c?(0,r.jsx)(i.A,{className:"size-4 m-auto"}):(0,r.jsx)(n.A,{className:"size-4 m-auto"})}),(0,r.jsx)("p",{children:e})]},e)})})]})})]},t)})})]})),[E,z]);let[ej,eU]=(0,o.useState)([]);(0,o.useEffect)(()=>{if(!A)return;let e=setInterval(async()=>{try{let e=(await eC.A.get(T+"/getChatMessages")).data;e=e.map(e=>"System"==e.Type?{...e,Sender:"System",Message:e.Message.replace("<PlayerName/>",e.Sender)}:e),eU(e)}catch(e){}},1e3);return()=>{clearInterval(e)}},[A]);let[eL,eX]=(0,o.useState)(""),[eO,eW]=(0,o.useState)(!1),eG=o.useCallback(async()=>{if(""!=R.trim()&&""!=D.trim()&&eL.trim())try{let e=await eC.A.post(T+"/sendChatMessage",{message:eL,sender:R},{headers:{"X-FRM-Authorization":D,"Content-Type":"application/json"}});return 200===e.status&&eX(""),200===e.status?{status:"OK",message:"Message Sent!"}:{status:"Error",message:e.data.error}}catch(e){return{status:"Error",message:e.message||"Failed to send message"}}},[T,D,R,eL]),[eZ,eQ]=(0,o.useState)(!1);return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"absolute bottom-0 left-1/2 w-1/2 -translate-x-1/2 flex flex-col z-20",children:[(0,r.jsxs)("div",{className:"relative h-10",children:[(0,r.jsxs)("div",{className:"flex absolute h-10 left-0 z-2 w-65",children:[(0,r.jsxs)("div",{className:"bg-card border-t border-l p-1 text-sm whitespace-nowrap w-55 rounded-tl-md border-b-0 flex items-center",style:{fontSize:"initial"},children:[(0,r.jsxs)("p",{className:"ml-3 w-full",children:["Zoom: ",u]}),(0,r.jsx)(I.w,{orientation:"vertical",className:"mx-1"}),(0,r.jsxs)(c.$,{variant:"secondary",className:"h-8 w-1/2 ".concat(eZ?"bg-input/60":"bg-card"," border inline-flex"),onClick:()=>eQ(!eZ),children:[(0,r.jsx)(l.A,{})," Layers"]})]}),(0,r.jsxs)("svg",{className:"h-10 text-card -ml-[1px]  w-10",viewBox:"1 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M16 15 C8 15 8 0 1 0 V15 H8 H16 Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M16 15 C8 15 8 0 1 0",fill:"none",stroke:"currentColor",strokeWidth:"0.5",className:"stroke-border"})]})]}),(0,r.jsxs)("div",{className:"flex absolute h-10 right-0 z-2 w-35",children:[(0,r.jsxs)("svg",{className:"h-10 text-card -mr-[1px] transform -scale-x-100",viewBox:"1 0 15 15",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M16 15 C8 15 8 0 1 0 V15 H8 H16 Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M16 15 C8 15 8 0 1 0",fill:"none",stroke:"currentColor",strokeWidth:"0.5",className:"stroke-border"})]}),(0,r.jsx)("div",{className:"bg-card border-t border-r p-1 text-sm whitespace-nowrap w-fit rounded-tr-md border-b-0 flex justify-center items-center",style:{fontSize:"initial"},children:""==R.trim()||""==D.trim()?(0,r.jsxs)(eI,{children:[(0,r.jsx)(eN,{className:"h-8 w-20 mr-3 rounded-md overflow-hidden",children:(0,r.jsx)(eE(),{href:A?location.origin+"/settings".concat(""==R.trim()||""==D.trim()?""==R.trim()?"#username":"#authorization":""):"",children:(0,r.jsx)(c.$,{variant:"secondary",className:"h-8 w-20 mr-3 bg-card border",disabled:""==R.trim()||""==D.trim(),asChild:!0,children:(0,r.jsx)("span",{children:(0,r.jsx)(s.A,{className:"text-muted-foreground"})})})})}),(0,r.jsx)(eS,{className:"bg-card text-primary border",children:(0,r.jsx)("p",{children:"To use chat feature please go to settings and set it up!"})})]}):(0,r.jsx)(c.$,{variant:"secondary",className:"h-8 w-20 mr-3 ".concat(eO?"bg-input/60":"bg-card"," border"),onClick:()=>eW(()=>!eO),disabled:""==R.trim()||""==D.trim(),children:(0,r.jsx)(s.A,{})})})]}),(0,r.jsx)(eF.N,{children:eO&&(0,r.jsx)("div",{className:"absolute overflow-hidden w-full h-150 left-1/2 bottom-0 -translate-x-1/2",children:(0,r.jsxs)(eB.P.div,{initial:{y:"100%"},animate:{y:0},transition:{type:"spring",bounce:0},exit:{y:"100%"},className:"absolute bg-card w-full h-150 left-1/2 bottom-0 -translate-x-1/2 rounded-t-md border overflow-hidden flex flex-col pointer-events-auto border-b-0",children:[(0,r.jsx)(m,{className:"p-3 flex-1 overflow-y-auto flex flex-col gap-1 scrollarea-child-target border-b",type:"always",children:ej.map((e,t)=>{let a=e.Sender==R,[o,i,n,l]=function(e){let t=Math.round(255*e.R),a=Math.round(255*e.G);return[t,a,Math.round(255*e.B),parseFloat(e.A.toFixed(2))]}(e.Color);return(0,r.jsxs)(eB.P.div,{initial:{x:a?"105%":"-105%"},animate:{x:0},transition:{ease:"anticipate",duration:1.5,delay:.1*t},className:"max-w-[80%] p-3 rounded-md shadow-sm border space-y-1 right-0 my-1 overflow-hidden  ".concat(a?"self-end rounded-br-none":"self-start rounded-bl-none"),style:{borderColor:"System"===e.Sender?"var(--color-blue-400)":"rgb(".concat(o,",").concat(i,",").concat(n,")"),color:"System"===e.Sender?"var(--color-blue-400)":"rgb(".concat(o,",").concat(i,",").concat(n,")"),backgroundColor:"System"===e.Sender?"color-mix(in oklab, var(--color-blue-400) /* oklch(70.7% 0.165 254.624) */ 10%, transparent)":"rgb(".concat(o,",").concat(i,",").concat(n,",0.1)")},children:[(0,r.jsx)("p",{className:"font-semibold text-sm mb-1 ",children:"System"==e.Type||e.Sender?e.Sender:"FRM"}),(0,r.jsx)("p",{className:"text-sm whitespace-pre-wrap break-all",children:e.Message})]},e.ServerTimeStamp+e.Sender)})}),(0,r.jsxs)(eB.P.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},transition:{ease:"anticipate",duration:1.5},className:"flex p-3 space-x-2 ml-65 mr-35",children:[(0,r.jsx)(eR.p,{placeholder:"Type your message...",className:"flex-1 rounded-md border px-3 py-2",value:eL,onChange:e=>eX(e.target.value),onKeyDown:e=>{"Enter"===e.key&&eG()}}),(0,r.jsx)(c.$,{className:"px-5 py-2 rounded-md transition",onClick:eG,disabled:""==eL.trim(),children:"Send"})]})]})})})]}),(0,r.jsx)("div",{className:"bg-card border p-4 flex flex-col items-center gap-2",children:(0,r.jsxs)("div",{className:"flex w-full gap-6 items-center",children:[(0,r.jsx)(eR.p,{type:"number",min:C[0],max:M[1],value:M[0],className:"text-center",onChange:e=>{k([Math.max(C[0],Math.min(Number(e.currentTarget.value),M[1])),M[1]])}}),(0,r.jsx)(eD,{defaultValue:C,min:C[0],max:C[1],step:1,value:M,onValueChange:e=>k(e)}),(0,r.jsx)(eR.p,{type:"number",min:M[0],max:C[1],value:M[1],className:"text-center",onChange:e=>{let t=Math.min(C[1],Math.max(Number(e.currentTarget.value),M[0]));k([M[0],t])}})]})})]}),(0,r.jsx)(eF.N,{children:eZ&&(0,r.jsxs)(eB.P.div,{className:"absolute left-0 top-0 z-10 h-[100vh] bg-card border-r p-2",initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{ease:(0,ez.A)(.36,1,0,1),duration:1},children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-center",children:"Layers & Filters"}),(0,r.jsxs)(m,{className:"h-[90vh] mt-1",type:"scroll",children:[(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 p-4 bg-card rounded-2xl shadow-inner max-h-[80vh] overflow-y-auto border",children:Object.entries(O).map(e=>{let[t,a]=e;if(null!=ev[t].with)return null;let o=ev[t];return(0,r.jsxs)(eI,{children:[(0,r.jsx)(eN,{children:(0,r.jsx)(ec.l,{asChild:!0,defaultPressed:a.visible,onPressedChange:e=>{a.visible=e,W(O)},pressed:a.visible,className:"flex items-center gap-3 w-full px-3 py-2 rounded-xl border border-[hsl(29,75%,65%)] data-[state=on]:bg-[hsla(29,75%,65%,0.2)] hover:bg-[hsla(29,75%,65%,0.1)] p-5",children:(0,r.jsx)("div",{children:(0,r.jsxs)(eu,{className:"size-8",children:[(0,r.jsx)(em,{src:o.icon}),(0,r.jsx)(ep,{children:t.slice(0,2).toUpperCase()})]})})})}),(0,r.jsx)(eS,{className:"bg-card text-primary border",children:(0,r.jsx)("p",{children:o.label})})]},t)})}),(0,r.jsx)(I.w,{className:"my-[15px]"}),(0,r.jsx)("div",{className:"gap-2 flex-col flex w-full",children:e_})]})]})}),(0,r.jsx)(w.A,{layers:[d,...ed],views:a,initialViewState:{target:[0,0,0],zoom:-10,maxZoom:0,minZoom:-10},onViewStateChange:e=>{let{viewState:t}=e;p(Math.round(t.zoom))},style:{height:"100%",width:"100%",position:"fixed",backgroundColor:"transparent",overflow:"hidden"},getTooltip:(0,o.useCallback)(e=>{let{object:t,layer:a}=e;return t&&{html:es(a,t),style:{backgroundColor:"transparent"}}},[])})]})}},59434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>i});var r=a(52596),o=a(39688);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,o.QP)((0,r.$)(t))}},62523:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var r=a(95155);a(12115);var o=a(59434);function i(e){let{className:t,type:a,...i}=e;return(0,r.jsx)("input",{type:a,"data-slot":"input",className:(0,o.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...i})}},66695:(e,t,a)=>{"use strict";a.d(t,{BT:()=>s,Wu:()=>c,ZB:()=>l,Zp:()=>i,aR:()=>n});var r=a(95155);a(12115);var o=a(59434);function i(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,o.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function n(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,o.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function l(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,o.cn)("leading-none font-semibold",t),...a})}function s(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,o.cn)("text-muted-foreground text-sm",t),...a})}function c(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,o.cn)("px-6",t),...a})}}},e=>{var t=t=>e(e.s=t);e.O(0,[690,390,924,277,610,464,874,462,402,618,441,684,358],()=>t(6572)),_N_E=e.O()}]);